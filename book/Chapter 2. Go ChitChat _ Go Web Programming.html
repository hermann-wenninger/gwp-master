<!DOCTYPE html>
<!-- saved from url=(0096)https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#B9002D">
    <meta data-react-helmet="true" property="og:image" content="https://learning.oreilly.com/covers/urn:orm:book:9781617292569/"><meta data-react-helmet="true" name="twitter:image" content="https://learning.oreilly.com/covers/urn:orm:book:9781617292569/"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="twitter:creator" content="@OReillyMedia"><meta data-react-helmet="true" name="twitter:site" content="@OReillyMedia"><meta data-react-helmet="true" name="twitter:title" content="O&#39;Reilly Media - Technology and Business Training"><meta data-react-helmet="true" property="twitter:account_id" content="4503599627559754"><meta data-react-helmet="true" property="og:site_name" content="O&#39;Reilly Online Learning"><meta data-react-helmet="true" name="publisher" content="Manning Publications"><meta data-react-helmet="true" property="og:book:author" itemprop="author" content="Sau Sheong Chang"><meta data-react-helmet="true" itemprop="isPartOf" content="/library/view/go-web-programming/9781617292569/"><meta data-react-helmet="true" property="og:type" content="book"><meta data-react-helmet="true" property="og:book:isbn" itemprop="isbn" content="9781617292569">


        <link rel="preload" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/orm.6581fb1ba503f77c8eba.css" as="style">
        <link rel="preload" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/main.7171a3c79e2f8810b449.css" as="style">
        <link rel="preload" href="https://cdn.oreillystatic.com/fonts/GuardianText/GuardianTextSans-Medium-Web.woff2" as="font" type="font/woff2" crossorigin="&quot;anonymous&quot;">
        <link rel="preload" href="https://cdn.oreillystatic.com/fonts/GuardianText/GuardianTextSans-Regular-Web.woff2" as="font" type="font/woff2" crossorigin="&quot;anonymous&quot;">


    <link rel="shortcut icon" href="https://www.oreilly.com/favicon.ico">

      <title>Chapter 2. Go ChitChat | Go Web Programming</title>


        <link rel="stylesheet" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/orm.6581fb1ba503f77c8eba.css">
        <link rel="stylesheet" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/main.7171a3c79e2f8810b449.css">





  <style type="text/css">:root topadblock, :root span[id^="ezoic-pub-ad-placeholder-"], :root mq-programmatic-ad, :root iframe[src^="http://www.adpeepshosted.com/adpeeps.php?"], :root div[id^="zergnet-widget"], :root div[id^="traffective-ad-"], :root div[id^="taboola-stream-"], :root div[id^="sticky_ad_"], :root div[id^="rc-widget-"], :root div[id^="proadszone-"], :root div[id^="lazyad-"], :root div[id^="js-dfp-"], :root div[id^="gtm-ad-"], :root div[id^="google_dfp_"], :root div[id^="ezoic-pub-ad-"], :root div[id^="div-adtech-ad-"], :root div[id^="dfp-slot-"], :root div[id^="dfp-ad-"], :root div[id^="code_ads_"], :root div[id^="banner-ad-"], :root div[id^="advt-"], :root div[id^="advads_"], :root div[id^="advads-"], :root div[id^="adspot-"], :root div[id^="ads300_100-widget-"], :root div[id^="ads250_250-widget-"], :root div[id^="adrotate_widgets-"], :root div[id^="adngin-"], :root div[id^="adfox_"], :root div[id^="ad_script_"], :root div[id^="ad_rect_"], :root div[id^="ad_position_"], :root div[id^="ad-server-"], :root div[id^="ad-inserter-"], :root div[id^="ad-cid-"], :root div[id^="_vdo_ads_player_ai_"], :root div[data-test-id="AdDisplayWrapper"], :root div[data-subscript="Advertising"], :root div[data-spotim-slot], :root div[data-role="sidebarAd"], :root div[data-native_ad], :root div[data-mediatype="advertising"], :root div[data-insertion], :root div[data-id-advertdfpconf], :root div[data-dfp-id], :root div[data-content="Advertisement"], :root div[data-adunit], :root div[data-adunit-path], :root div[data-before-content="advertisement"], :root div[data-adservice-param-tagid="contentad"], :root div[data-adname], :root div[data-ad-wrapper], :root div[data-ad-underplayer], :root div[data-ad-placeholder], :root div[class^="sp-adslot-"], :root div[class^="s-dfp-"], :root div[class^="proadszone-"], :root div[class^="pane-google-admanager-"], :root div[class^="native-ad-"], :root div[class^="lifeOnwerAd"], :root div[class^="largeRectangleAd_"], :root div[class^="kiwiad-popup"], :root div[class^="kiwiad-desktop"], :root div[class^="index_adBeforeContent_"], :root div[class^="index_adAfterContent_"], :root div[class^="index__adWrapper"], :root div[class^="block-openx-"], :root div[class^="backfill-taboola-home-slot-"], :root div[class^="articleAdUnitMPU_"], :root div[class^="advertisement-desktop"], :root div[class^="adunit_"], :root div[class^="adsbutt_wrapper_"], :root div[class^="ads-partner-"], :root div[class^="adpubs-"], :root div[class^="adbanner_"], :root div[class^="ad_position_"], :root div[class^="SponsoredAds"], :root div[class^="ResponsiveAd-"], :root div[class^="PreAd_"], :root div[class^="Display_displayAd"], :root div[class^="Directory__footerAds"], :root div[class^="Component-dfp-"], :root div[class^="BlockAdvert-"], :root div[class^="BannerAd_"], :root div[class^="AdhesionAd_"], :root div[class^="Ad__bigBox"], :root div[class^="Ad__adContainer"], :root div[class^="AdSlot__container"], :root div[class^="ad_border_"], :root div[class^="AdItem-"], :root div[class^="AdEmbeded__AddWrapper"], :root span[data-component-type="s-ads-metrics"], :root div[class^="AdBannerWrapper-"], :root display-ads, :root display-ad-component, :root bottomadblock, :root aside[id^="tn_ads_widget-"], :root aside[id^="adrotate_widgets-"], :root app-large-ad, :root amp-fx-flying-carpet, :root amp-embed[type="taboola"], :root amp-ad-custom, :root aa[href^="https://itubego.com/video-downloader/?affid="], :root a[target="_blank"][onmousedown="this.href^='http://paid.outbrain.com/network/redir?"], :root div[id^="div-ads-"], :root a[href^="http://at.atwola.com/"], :root a[onmousedown^="this.href='https://paid.outbrain.com/network/redir?"][target="_blank"] + .ob_source, :root a[onmousedown^="this.href='http://paid.outbrain.com/network/redir?"][target="_blank"] + .ob_source, :root a[href^="https://www.vfreecams.com/in/?track="], :root a[href^="https://www.share-online.biz/affiliate/"], :root a[href^="https://www.purevpn.com/"][href*="&utm_source=aff-"], :root DFP-AD, :root a[href^="//porngames.adult/?SID="], :root a[href^="https://www.oneclickroot.com/?tap_a="] > img, :root a[href^="https://www.oboom.com/ad/"], :root a[href^="https://www.nudeidols.com/cams/"], :root a[href^="https://www.mypornstarcams.com/landing/click/"], :root a[href^="https://www.mrskin.com/account/"], :root div[data-adzone], :root a[href^="https://www.iyalc.com/"], :root a[href^="https://fastestvpn.com/lifetime-special-deal?a_aid="], :root a[href^="https://www.goldenfrog.com/vyprvpn?offer_id="][href*="&aff_id="], :root a[href^="https://www.get-express-vpn.com/offer/"], :root a[href^="https://www.gambling-affiliation.com/cpc/"], :root a[href^="http://webgirlz.online/landing/"], :root a[href^="https://www.g4mz.com/"], :root a[href^="https://www.dollps.com/?track="], :root a[href^="https://www.clicktraceclick.com/"], :root a[href^="https://www.camsoda.com/enter.php?id="], :root a[href^="https://www.brazzersnetwork.com/landing/"], :root a[href^="https://www.bebi.com"], :root .card-captioned.crd > .crd--cnt > .s2nPlayer, :root a[href^="https://www.arthrozene.com/"][href*="?tid="], :root a[href^="https://www.adskeeper.co.uk/"], :root a[href^="https://t.grtyi.com/"], :root a[href^="https://wittered-mainging.com/"], :root a[href^="http://farm.plista.com/pets"], :root a[href^="https://windscribe.com/promo/"], :root [href^="/ucdownload.php"], :root a[href^="https://wantopticalfreelance.com/"], :root a[href^="http://c43a3cd8f99413891.com/"], :root a[href^="https://trust.zone/go/r.php?RID="], :root div[data-ad-targeting], :root a[href^="https://trk.moviesflix4k.xyz/"], :root a[href^="https://trf.bannerator.com/"], :root a[href^="https://bestcond1tions.com/"], :root a[href^="http://go.247traffic.com/"], :root a[href^="https://trappist-1d.com/"], :root a[href^="http://anonymous-net.com/"], :root a[href^="https://transfer.xe.com/signup/track/redirect?"], :root a[href^="https://vo2.qrlsx.com/"], :root a[href^="https://tracking.truthfinder.com/?a="], :root a[href^="https://tracking.gitads.io/"], :root a[href^="https://tracking.avapartner.com/"], :root a[href^="https://track.ultravpn.com/"], :root a[href^="https://track.interactivegf.com/"], :root a[href^="https://vlnk.me/"], :root a[href^="https://www.adultempire.com/"][href*="?partner_id="], :root a[href^="https://track.healthtrader.com/"], :root a[href^="http://greensmoke.com/"], :root a[href^="https://track.effiliation.com/servlet/effi.click?"] > img, :root a[href^="https://track.clickmoi.xyz/"], :root a[href^="https://track.afcpatrk.com/"], :root a[href^="https://control.trafficfabrik.com/"], :root a[href^="https://track.52zxzh.com/"], :root a[href^="http://www.greenmangaming.com/?tap_a="], :root a[href^="https://go.cmtaffiliates.com/"], :root a[href^="https://tm-offers.gamingadult.com/"], :root a[href^="https://t.hrtyj.com/"], :root a[href^="https://t.adating.link/"], :root a[href^="https://squren.com/rotator/?atomid="], :root div[id^="ad-div-"], :root a[href^="https://secure.eveonline.com/ft/?aid="], :root [href^="https://mypillow.com/"] > img, :root a[href^="https://www.sheetmusicplus.com/?aff_id="], :root div[class^="pane-adsense-managed-"], :root a[href^="https://www.bang.com/?aff="], :root a[href^="https://secure.bstlnk.com/"], :root div[class^="index_displayAd_"], :root a[href^="http://adultgames.xxx/"], :root a[href^="http://semi-cod.com/clicks/"], :root a[href^="https://s.zlink2.com/"], :root div[class^="kiwi-ad-wrapper"], :root a[href^="https://rev.adsession.com/"], :root a[href^="https://someperceptionparade.com/"], :root a[href^="https://refpasrasw.world/"], :root div[data-google-query-id], :root a[href^="https://mediaserver.entainpartners.com/renderBanner.do?"], :root a[href^="https://refpaexhil.top/"], :root a[href^="https://reachtrgt.com/"], :root [href^="http://advertisesimple.info/"], :root a[href^="https://www.friendlyduck.com/AF_"], :root a[href^="https://queersodadults.com/"], :root div[id^="yandex_ad"], :root a[href^="https://www.hotgirls4fuck.com/"], :root a[href^="https://www.pornhat.com/"][rel="nofollow"], :root AD-SLOT, :root a[href^="https://pubads.g.doubleclick.net/"], :root a[href^="https://prf.hn/click/"][href*="/camref:"] > img, :root a[href^="http://www.my-dirty-hobby.com/?sub="], :root a[href^="https://porndeals.com/?track="], :root a[href^="https://pcm.bannerator.com/"], :root a[href^="https://offerforge.net/"], :root a[href^="https://track.wg-aff.com"], :root a[href^="https://nutrientassumptionclaims.com/"], :root a[href^="https://ndt5.net/"], :root a[href^="https://natour.naughtyamerica.com/track/"], :root a[href^="https://myusenet.xyz/"], :root a[href^="https://my-movie.club/"], :root a[href^="https://msecure117.com/"], :root [href^="https://detachedbates.com/"], :root a[href^="https://mk-cdn.net/"], :root a[href^="https://mk-ads.com/"], :root a[href^="https://meet-sex-here.com/?u="], :root a[href^="https://medleyads.com/"], :root a[href^="https://mediaserver.gvcaffiliates.com/renderBanner.do?"], :root a[href^="https://lead1.pl/"], :root iframe[src^="https://tpc.googlesyndication.com/"], :root a[href^="https://a.bestcontentoperation.top/"], :root a[href^="https://landing1.brazzersnetwork.com"], :root a[href^="http://adrunnr.com/"], :root a[href^="https://landing.brazzersplus.com/"], :root a[href^="https://land.rk.com/landing/"], :root a[href^="http://ad.au.doubleclick.net/"], :root a[href^="https://k2s.cc/pr/"], :root a[href^="https://juicyads.in/"], :root a[href^="https://join.virtuallust3d.com/"], :root a[href^="http://www.uniblue.com/cm/"], :root a[href^="https://join.sexworld3d.com/track/"], :root a[href^="https://join.dreamsexworld.com/"], :root a[href^="https://trusted-click-host.com/"], :root a[href^="https://members.linkifier.com/public/affiliateLanding?refCode="], :root a[href^="https://jmp.awempire.com/"], :root a[href^="https://intenseaffiliates.com/redirect/"], :root [href^="http://join.shemalepornstar.com/"], :root [id^="ad_sky"], :root a[href^="https://incisivetrk.cvtr.io/click?"], :root a[href^="https://iactrivago.ampxdirect.com/"], :root a[href^="https://iac.ampxdirect.com/"], :root a[href^="https://horny-pussies.com/tds"], :root a[href^="https://graizoah.com/"], :root a[href^="https://goraps.com/"], :root a[href^="http://feedads.g.doubleclick.net/"], :root a[href^="https://redsittalvetoft.pro/"], :root a[href^="https://googleads.g.doubleclick.net/pcs/click"], :root a[href^="//thaudray.com/"], :root a[href^="http://cdn.adstract.com/"], :root a[href^="https://gogoman.me/"], :root a[href^="https://www.securegfm.com/"], :root a[href^="https://go.xxxjmp.com"], :root a[href^="https://go.xxxiijmp.com/"], :root a[href^="https://go.xtbaffiliates.com/"], :root a[href^="https://torrentsafeguard.com/?aid="], :root [href^="https://v.investologic.co.uk/"], :root a[href^="https://offers.refchamp.com/"], :root a[href^="https://go.trkclick2.com/"], :root a[href^="https://go.strpjmp.com/"], :root a[href^="https://go.markets.com/visit/?bta="], :root a[href^="https://landing.brazzersnetwork.com/"], :root a[href^="https://go.hpyjmp.com/"], :root a[href^="https://go.goasrv.com/"], :root a[href^="https://adnetwrk.com/"], :root a[href^="https://go.gldrdr.com/"], :root a[href^="https://fleshlight.sjv.io/"], :root a[href^="https://go.etoro.com/"] > img, :root a[href^="https://go.currency.com/"], :root a[href^="https://track.afftck.com/"], :root a[href^="https://gohere.pl/"], :root a[href^="http://guideways.info/"], :root a[href^="https://go.cmrdr.com/"], :root a[href^="http://www.easydownloadnow.com/"], :root [href^="http://www.pingperfect.com/aff.php"], :root a[href^="https://go.alxbgo.com/"], :root a[href^="https://go.admjmp.com/"], :root a[href^="https://go.ad2up.com/"], :root a[href^="https://giftsale.co.uk/?utm_"], :root a[href^="http://www.terraclicks.com/"], :root a[href^="https://gghf.mobi/"], :root a[href^="https://get.surfshark.net/aff_c?"][href*="&aff_id="] > img, :root a[href^="https://fonts.fontplace9.com/"], :root a[href^="http://clkmon.com/adServe/"], :root a[href^="https://flirtaescopa.com/"], :root a[href^="https://fertilitycommand.com/"], :root a[href^="https://axdsz.pro/"], :root a[href^="https://tour.mrskin.com/"], :root a[href^="https://fakelay.com/"], :root a[href^="https://earandmarketing.com/"], :root [lazy-ad="leftthin_banner"], :root a[href^="https://dynamicadx.com/"], :root div[id^="div-gpt-"], :root a[href^="https://dooloust.net/"], :root a[href^="https://www.what-sexdating.com/"], :root a[href^="https://tc.tradetracker.net/"] > img, :root a[href^="//srv.buysellads.com/"], :root a[href^="https://dianches-inchor.com/"], :root a[href^="http://adf.ly/?id="], :root a[href^="https://uncensored3d.com/"], :root a[href^="https://creacdn.top-convert.com/"], :root a[href^="https://www.chngtrack.com/"], :root iframe[src^="https://pagead2.googlesyndication.com/"], :root a[href^="https://retiremely.com/"], :root a[href^="https://cpmspace.com/"], :root [onclick*="content.ad/"], :root a[href^="https://clixtrac.com/"], :root a[href^="https://clicks.pipaffiliates.com/"], :root .commercial-unit-mobile-top > .v7hl4d, :root a[href^="https://click.plista.com/pets"], :root a[href^="https://claring-loccelkin.com/"], :root a[href^="https://chaturbate.xyz/"], :root [data-ad-cls], :root a[href^="https://chaturbate.jjgirls.com/?track="], :root a[href^="https://chaturbate.com/in/?track="], :root a[href^="https://chaturbate.com/in/?tour="], :root a[href^="https://chaturbate.com/affiliates/"], :root #kt_player > a[target="_blank"], :root a[href^="https://camfapr.com/landing/click/"], :root a[href^="https://cagothie.net/"], :root a[href^="https://burpee.xyz/"], :root a[href^="https://mcdlks.com/"], :root a[href^="https://bs.serving-sys.com"], :root a[href^="http://www.123-reg.co.uk/affiliate2.cgi"], :root a[href^="https://bongacams10.com/track?"], :root a[href^="https://blackorange.go2cloud.org/"], :root [data-dynamic-ads], :root a[href^="https://banners.livepartners.com/"], :root a[href^="https://awptjmp.com/"], :root a[href^="http://www.fleshlight.com/"], :root a[href^="https://aweptjmp.com/"], :root a[href^="http://www.1clickdownloader.com/"], :root a[href^="https://www.googleadservices.com/pagead/aclk?"], :root a[href^="https://awentw.com/"], :root [href^="/ucdownloader.php"], :root a[href^="https://awejmp.com/"], :root a[href^="https://ausoafab.net/"], :root a[href^="https://as.sexad.net/"], :root a[href^="https://playuhd.host/"], :root a[href^="https://as.conjectwatson.com/"], :root a[href^="http://bestorican.com/"], :root a[href^="https://galaxyroms.net/?scr="], :root a[href^="https://albionsoftwares.com/"], :root a[href^="http://adserver.adtech.de/"], :root a[href^="https://www.mrskin.com/tour"], :root a[href^="https://frameworkdeserve.com/"], :root a[href^="https://aj1070.online/"], :root a[href^="http://cdn3.adexprts.com/"], :root a[href^="https://spygasm.com/track?"], :root a[href^="https://agacelebir.com/"], :root a[href^="https://geniusdexchange.com/"], :root a[href^="//postlnk.com/"], :root a[href^="https://affiliate.rusvpn.com/click.php?"], :root [data-role="tile-ads-module"], :root a[href^="https://affiliate.geekbuying.com/gkbaffiliate.php?"], :root [href^="https://www.reimageplus.com/"], :root a[href^="https://bongacams2.com/track?"], :root a[href^="http://www.twinplan.com/AF_"], :root a[href^="https://affcpatrk.com/"], :root a[href^="https://www.sugarinstant.com/?partner_id="], :root a[href^="http://adultfriendfinder.com/p/register.cgi?pid="], :root a[href^="http://www.advcashpro.com/aff/"], :root a[href^="https://www.popads.net/users/"], :root a[href^="https://adultfriendfinder.com/go/page/landing"], :root a[href^="https://adswick.com/"], :root ADS-RIGHT, :root a[href^="https://tracking.trackcasino.co/"], :root a[href^="https://adserver.adreactor.com/"], :root a[href^="https://land.brazzersnetwork.com/landing/"], :root a[href^="https://ads.leovegas.com/redirect.aspx?"], :root a[href^="https://t.hrtye.com/"], :root a[href^="https://ads.cdn.live/"], :root a[href^="https://ads.betfair.com/redirect.aspx?"], :root a[href^="https://refpaano.host/"], :root a[href^="https://meet-to-fuck.com/tds"], :root a[href^="https://adhealers.com/"], :root a[href^="https://www.sheetmusicplus.com/"][href*="?aff_id="], :root a[href^="http://servicegetbook.net/"], :root a[href^="https://bngpt.com/"], :root a[href^="http://clickandjoinyourgirl.com/"], :root a[href^="https://ad13.adfarm1.adition.com/"], :root a[href^="https://misspkl.com/"], :root a[href^="https://ad.zanox.com/ppc/"] > img, :root a[href^="https://static.fleshlight.com/images/banners/"], :root app-advertisement, :root a[href^="https://ad.doubleclick.net/"], :root a[href^="http://zevera.com/afi.html"], :root a[href^="http://go.oclaserver.com/"], :root a[href^="https://ad.atdmt.com/"], :root a[href^="https://cams.imagetwist.com/in/?track="], :root .trc_rbox .syndicatedItem, :root a[href^="https://a.bestcontentweb.top/"], :root a[href^="https://aaucwbe.com/"], :root a[href^="https://a.montangop.top/"], :root a[href^="http://campaign.bharatmatrimony.com/track/"], :root a[href^="https://a-ads.com/campaigns/"], :root .commercial-unit-mobile-top .jackpot-main-content-container > .UpgKEd + .nZZLFc > .vci, :root a[href^="https://syndication.exoclick.com/"], :root a[href^="https://financeads.net/tc.php?"], :root a[href^="https://a-ads.com/?partner="], :root a[href^="http://hyperlinksecure.com/go/"], :root a[href^="https://track.themadtrcker.com/"], :root a[href^="https://bullads.net/get/"], :root a[href^="http://down1oads.com/"], :root a[href^="http://yads.zedo.com/"], :root [href^="http://go.cm-trk2.com/"], :root a[href^="https://tracking.comfortclick.eu/"], :root a[href^="https://maymooth-stopic.com/"], :root a[href^="http://xtgem.com/click?"], :root a[href^="https://ads.trafficpoizon.com/"], :root div[class^="local-feed-banner-ads"], :root a[href^="http://wxdownloadmanager.com/dl/"], :root a[href*=".flndmyiove.net/"], :root a[href^="http://www.xmediaserve.com/"], :root a[href^="http://www.webtrackerplus.com/"], :root a[href^="http://www.usearchmedia.com/signup?"], :root a[href^="http://www.torntv-downloader.com/"], :root a[href^="https://www.privateinternetaccess.com/"] > img, :root a[href^="http://www.tirerack.com/affiliates/"], :root a[href^="http://www.text-link-ads.com/"], :root a[href^="https://weedzy.co.uk/"][href*="&utm_"], :root a[href^="http://www.streamtunerhd.com/signup?"], :root a[href^="http://www.streamate.com/exports/"], :root a[href^="https://ads-for-free.com/click.php?"], :root a[href^="https://syndication.optimizesrv.com/"], :root a[href^="http://www.socialsex.com/"], :root a[href^="https://join.virtualtaboo.com/track/"], :root a[onmousedown^="this.href='https://paid.outbrain.com/network/redir?"][target="_blank"], :root [href^="https://awbbjmp.com/"], :root a[href^="http://www.sfippa.com/"], :root a[href^="http://secure.signup-page.com/"], :root a[href^="http://www.quick-torrent.com/download.html?aff"], :root a[href^="http://www.plus500.com/?id="], :root a[href^="http://ffxitrack.com/"], :root a[href^="https://www.im88trk.com/"], :root [href*=".zlinkm.com/"], :root a[href^="http://www.pinkvisualgames.com/?revid="], :root a[href^="https://trklvs.com/"], :root a[href^="http://www.paddypower.com/?AFF_ID="], :root a[href^="http://www.onwebcam.com/random?t_link="], :root a[href^="http://www.onclickmega.com/jump/next.php?"], :root a[href^="https://go.247traffic.com/"], :root a[href^="http://www.freefilesdownloader.com/"], :root a[href^="http://www.mysuperpharm.com/"], :root a[href^="http://www.myfreepaysite.com/sfw.php?aid"], :root a[href^="http://www.mrskin.com/tour"], :root a[href^="http://bcntrack.com/"], :root a[href^="http://www.securegfm.com/"], :root a[href^="http://www.liversely.net/"], :root a[href^="https://partners.fxoro.com/click.php?"], :root a[href^="https://azpresearch.club/"], :root a[href^="http://www.linkbucks.com/referral/"], :root a[href^="http://www.idownloadplay.com/"], :root a[href^="http://www.hitcpm.com/"], :root a[href^="http://fusionads.net"], :root a[href^="http://www.hibids10.com/"], :root div[class^="awpcp-random-ads"], :root a[href^="http://www.graboid.com/affiliates/"], :root a[href^="http://www.getyourguide.com/?partner_id="], :root a[href^="http://www.gamebookers.com/cgi-bin/intro.cgi?"], :root a[href^="http://www.friendlyquacks.com/"], :root a[href^="https://www.financeads.net/tc.php?"], :root a[href^="http://www.friendlyduck.com/AF_"], :root a[href^="http://www.firstload.com/affiliate/"], :root a[href^="http://www.friendlyadvertisements.com/"], :root a[href^="https://content.oneindia.com/www/delivery/"], :root a[href^="http://www.fpcTraffic2.com/blind/in.cgi?"], :root a[href^="http://www.fonts.com/BannerScript/"], :root a[href^="http://www.flashx.tv/downloadthis"], :root [href^="https://www.restoro.com/"], :root a[href^="https://americafirstpolls.com/"], :root a[href^="http://clickserv.sitescout.com/"], :root a[href^="http://www.firstload.de/affiliate/"], :root a[href^="http://www.dealcent.com/register.php?affid="], :root a[data-url^="http://paid.outbrain.com/network/redir?"], :root iframe[id^="google_ads_frame"], :root a[href^="http://www.bet365.com/"][href*="affiliate="], :root a[href^="http://www.bluehost.com/track/"] > img, :root a[href^="http://www.coiwqe.site/"], :root a[href^="https://click.a-ads.com/"], :root a[href^="http://www.clkads.com/adServe/"], :root a[href^="http://www.babylon.com/welcome/index?affID"], :root .grid > .container > #aside-promotion, :root a[href^="http://www.badoink.com/go.php?"], :root a[href^="http://www.afgr3.com/"], :root a[href^="https://fast-redirecting.com/"], :root a[href^="https://bluedelivery.pro/"], :root [href^="http://join.michelle-austin.com/"], :root a[href^="http://www.sexgangsters.com/?pid="], :root a[href^="http://www.amazon.co.uk/exec/obidos/external-search?"], :root a[href^="http://c.jumia.io/"], :root a[href^="http://www.affiliates1128.com/processing/"], :root a[href^="http://go.ad2up.com/"], :root a[href^="https://badoinkvr.com/"], :root a[href^="http://www.adxpansion.com"], :root a[href^="http://ad-emea.doubleclick.net/"], :root a[href^="https://clickadilla.com/"], :root .ob_container .item-container-obpd, :root a[href^="http://websitedhoome.com/"], :root a[href^="http://www.adskeeper.co.uk/"], :root a[href^="http://www.down1oads.com/"], :root a[href^="http://www.FriendlyDuck.com/"], :root a[href^="http://webtrackerplus.com/"], :root a[href^="http://web.adblade.com/"], :root [href^="https://stvkr.com/"], :root a[href^="http://engine.newsmaxfeednetwork.com/"], :root a[href^="https://pl.premium4kflix.website/"], :root a[href^="http://vo2.qrlsx.com/"], :root a[href^="https://www.nutaku.net/signup/landing/"], :root a[href^="http://s9kkremkr0.com/"], :root aside[id^="advads_ad_widget-"], :root a[href^="http://lp.ezdownloadpro.info/"], :root a[href^="http://uploaded.net/ref/"], :root a[href^="http://ul.to/ref/"], :root a[href^="//chrif8kdstie.com/"], :root a[href^="https://traffdaq.com/"], :root a[href^="http://ucam.xxx/?utm_"], :root a[href^="http://traffic.tc-clicks.com/"], :root a[href^="https://dediseedbox.com/clients/aff.php?"], :root [href^="/ucmini.php"], :root a[href^="http://www.wantstraffic.com/"], :root a[href^="http://databass.info/"], :root a[href^="http://track.afcpatrk.com/"], :root div[class^="Ad__container"], :root a[href^="http://adprovider.adlure.net/"], :root a[href^="http://t.wowtrk.com/"], :root a[href^="http://tezfiles.com/pr/"], :root [id*="ScriptRoot"], :root a[href^="http://fileboom.me/pr/"], :root a[href^="//coarsewary.com/"], :root a[href*=".trust.zone"], :root a[href^="http://www.firstclass-download.com/"], :root a[href^="http://tracking.deltamediallc.com/"], :root a[href^="http://tc.tradetracker.net/"] > img, :root div[class^="adUnit_"], :root a[href^="https://deliver.tf2www.com/"], :root .ob_dual_right > .ob_ads_header ~ .odb_div, :root a[href^="http://spygasm.com/track?"], :root a[href^="http://sharesuper.info/"], :root a[href^="https://awecrptjmp.com/"], :root [data-ez-name], :root a[href^="http://server.cpmstar.com/click.aspx?poolid="], :root a[href^="http://www.fbooksluts.com/"], :root a[href^="http://c.actiondesk.com/"], :root a[href^="http://intent.bingads.com/"], :root a[href^="http://www.cdjapan.co.jp/aff/click.cgi/"], :root .trc_related_container div[data-item-syndicated="true"], :root a[href^="https://www.firstload.com/affiliate/"], :root a[href^="http://see.kmisln.com/"], :root a[href^="http://secure.hostgator.com/~affiliat/"], :root a[href^="http://rs-stripe.wsj.com/stripe/redirect"], :root a[href^="http://refpaano.host/"], :root a[data-oburl^="http://paid.outbrain.com/network/redir?"], :root a[href^="https://engine.phn.doublepimp.com/"], :root a[href^="http://refpa.top/"], :root a[href^="https://easygamepromo.com/ef/custom_affiliate/"], :root a[href^="http://record.betsafe.com/"], :root a[href^="https://iqbroker.com/"][href*="?aff="], :root a[href*=".medgoodfood.com/"], :root a[href^="http://buysellads.com/"], :root a[href^="http://reallygoodlink.freehookupaffair.com/"], :root a[href^="https://keep2share.cc/pr/"], :root a[href^="http://pityhostngco2.xyz/"], :root a[href^="http://adlev.neodatagroup.com/"], :root a[href^="http://reallygoodlink.extremefreegames.com/"], :root a[href^="https://bnsjb1ab1e.com/"], :root a[href^="http://pwrads.net/"], :root a[href^="https://www.xvinlink.com/?a_fid="], :root a[href^="http://promos.bwin.com/"], :root a[href^="http://z1.zedo.com/"], :root a[href^="http://pokershibes.com/index.php?ref="], :root [id^="google_ads_iframe"], :root a[href^="http://partners.etoro.com/"], :root [data-mobile-ad-id], :root LEADERBOARD-AD, :root a[href^="http://papi.mynativeplatform.com:80/pub2/"], :root a[href^="http://searchtabnew.com/"], :root div[id^="ad-gpt-"], :root a[href^="http://pan.adraccoon.com?"], :root a[href^="http://online.ladbrokes.com/promoRedirect?"], :root a[href^="https://dltags.com/"], :root a[href^="http://onclickads.net/"], :root a[href^="http://mmo123.co/"], :root a[href^="https://fileboom.me/pr/"], :root a[href^="http://marketgid.com"], :root a[href^="https://aff-ads.stickywilds.com/"], :root a[href^="http://www.bitlord.me/share/"], :root a[href^="https://www.kingsoffetish.com/tour?partner_id="], :root a[href^="//pubads.g.doubleclick.net/"], :root a[href^="http://lp.ncdownloader.com/"], :root a[href^="http://allaptair.club/"], :root [href*=".engine.adglare.net/"], :root a[href^="https://moneynow.one/"], :root a[href^="http://look.djfiln.com/"], :root a[href^="http://keep2share.cc/pr/"], :root a[href^="https://webroutetrk.com/"], :root a[href^="http://k2s.cc/code/"], :root a[href^="http://www.liutilities.com/"], :root a[href^="http://www.dl-provider.com/search/"], :root [href^="http://join.shemalesfromhell.com/"], :root .pubexchange_module .pe-external, :root a[data-widget-outbrain-redirect^="http://paid.outbrain.com/network/redir?"], :root a[href^="http://join3.bannedsextapes.com/track/"], :root a[href^="https://gamescarousel.com/"], :root a[href^="http://istri.it/?"], :root a[href^="http://mob1ledev1ces.com/"], :root a[href^="//voyeurhit.com/cs/"], :root a[href^="http://hd-plugins.com/download/"], :root [data-desktop-ad-id], :root a[href^="https://look.utndln.com/"], :root a[href^="http://googleads.g.doubleclick.net/pcs/click"], :root a[href^="https://ovb.im/"], :root a[href^="https://watchmygirlfriend.tv/"], :root .nrelate .nr_partner, :root a[href^="http://go.xtbaffiliates.com/"], :root a[href^="http://secure.cbdpure.com/aff/"], :root a[href^="http://www.downloadthesefiles.com/"], :root a[href^="https://dialling-abutory.com/"], :root a[href^="https://oackoubs.com/"], :root a[href^="http://install.securewebsiteaccess.com/"], :root a[href^="http://www.revenuehits.com/"], :root a[href^="http://www.downloadweb.org/"], :root a[href^="http://go.seomojo.com/tracking202/"], :root a[href^="http://go.mobisla.com/"], :root a[href^="http://go.fpmarkets.com/"], :root a[href^="http://findersocket.com/"], :root a[href^="https://porngames.adult/?SID="], :root a[href^="https://prf.hn/click/"][href*="/creativeref:"] > img, :root a[href^="http://www.adultempire.com/unlimited/promo?"][href*="&partner_id="], :root a[href^="https://ads.planetwin365affiliate.com/redirect.aspx?"], :root a[href^="//go.xlviiirdr.com"], :root a[href*=".incontro-veloce.com/"], :root a[href^="http://g1.v.fwmrm.net/ad/"], :root a[href^="http://us.marketgid.com"], :root a[href^="http://imads.integral-marketing.com/"], :root a[href^="http://freesoftwarelive.com/"], :root a[href^="http://adtrackone.eu/"], :root span[title="Ads by Google"], :root a[href^="http://finaljuyu.com/"], :root a[href^="http://ethfw0370q.com/"], :root [id^="bunyad_ads_"], :root a[href^="http://elitefuckbook.com/"], :root a[href^="http://eclkmpsa.com/"], :root a[href^="http://wopertific.info/"], :root a[href^="http://earandmarketing.com/"], :root div[class^="hp-ad-rect-"], :root a[href^="http://dwn.pushtraffic.net/"], :root a[href^="http://aflrm.com/"], :root a[href^="http://deloplen.com/"], :root #content > #center > .dose > .dosesingle, :root a[href^="//edgar2al2larngpoer.com/"], :root a[href^="http://d2.zedo.com/"], :root a[href^="http://czotra-32.com/"], :root a[href^="https://a.adtng.com/"], :root a[href^="http://static.fleshlight.com/images/banners/"], :root a[href^="http://codec.codecm.com/"], :root a[href^="https://www.travelzoo.com/oascampaignclick/"], :root a[href^="https://see.kmisln.com/"], :root a[href^="http://refer.webhostingbuzz.com/"], :root a[href^="https://paid.outbrain.com/network/redir?"], :root a[href^="http://www.downloadplayer1.com/"], :root a[href^="http://clicks.binarypromos.com/"], :root [id^="ad_slider"], :root a[href^="http://chaturbate.com/affiliates/"], :root a[href^="https://track.bruceads.com/"], :root a[href^="https://t.aslnk.link/"], :root a[href^="https://m.do.co/c/"] > img, :root a[href^="http://track.trkvluum.com/"], :root [href^="https://secure.bmtmicro.com/servlets/"], :root a[href^="http://amzn.to/"] > img[src^="data"], :root a[href^="http://bs.serving-sys.com/"], :root a[href^="http://cpaway.afftrack.com/"], :root a[href^="http://cdn.adsrvmedia.net/"], :root [href^="https://infinitytrk.com/"], :root [lazy-ad="top_banner"], :root a[href^="http://360ads.go2cloud.org/"], :root [onclick^="location.href='http://www.reimageplus.com"], :root a[href^="http://dftrck.com/"], :root a[href^="http://casino-x.com/?partner"], :root a[href^="https://meet-sexhere.com/"], :root a[href^="http://record.sportsbetaffiliates.com.au/"], :root a[href^="http://campeeks.com/"][href*="&utm_"], :root a[href^="http://download-performance.com/"], :root a[href^="http://www.on2url.com/app/adtrack.asp"], :root [href^="https://affect3dnetwork.com/track/"], :root a[href^="http://campaign.bharatmatrimony.com/cbstrack/"], :root a[href^="https://go.goaserv.com/"], :root a[href^="http://serve.williamhill.com/promoRedirect?"], :root a[href^="https://uncensored.game/"], :root a[href^="http://wgpartner.com/"], :root a[href^="http://bodelen.com/"], :root a[href^="http://www.seekbang.com/cs/"], :root a[href^="http://syndication.exoclick.com/"], :root a[href^="http://bluehost.com/track/"], :root [href^="https://www.dcpodj3k5.com/"], :root a[href^="https://serve.awmdelivery.com/"], :root a[href^="http://enter.anabolic.com/track/"], :root a[href^="https://prf.hn/click/"][href*="/adref:"] > img, :root a[href^="http://banners.victor.com/processing/"], :root div[aria-label="Ads"], :root a[href^="https://go.ebrokerserve.com/"], :root a[href^="http://axdsz.pro/"], :root a[href^="http://api.content.ad/"], :root a[href^="https://leg.xyz/?track="], :root a[href^="http://affiliate.glbtracker.com/"], :root a[href^="http://hotcandyland.com/partner/"], :root a[href^="http://affiliates.thrixxx.com/"], :root [href^="https://t.ajrkm.link/"], :root a[href^="http://affiliate.coral.co.uk/processing/"], :root a[href^="http://aff.ironsocket.com/"], :root a[href^="http://tour.mrskin.com/"], :root a[href^="http://linksnappy.com/?ref="], :root ad-desktop-sidebar, :root [data-ad-width], :root [id*="MGWrap"], :root a[href^="http://adtrack123.pl/"], :root a[href^="http://adsrv.keycaptcha.com"], :root a[href^="http://adserver.adreactor.com/"], :root div[class^="StickyHeroAdWrapper-"], :root a[href^="http://cwcams.com/landing/click/"], :root a[href^="http://ads.betfair.com/redirect.aspx?"], :root a[href^="http://ad.doubleclick.net/"], :root [href^="http://homemoviestube.com/"], :root a[href^="https://adsrv4k.com/"], :root a[href^="http://trk.mdrtrck.com/"], :root [href^="http://globsads.com/"], :root [href^="https://shrugartisticelder.com"], :root a[href^="https://scurewall.co/"], :root [name^="google_ads_iframe"], :root [href^="http://join.rodneymoore.com/"], :root [id*="MarketGid"], :root a[href^="http://espn.zlbu.net/"], :root a[href^="http://admrotate.iplayer.org/"], :root a[href^="http://adclick.g.doubleclick.net/"], :root .vid-present > .van_vid_carousel__padding, :root #header + #content > #left > #rlblock_left, :root a[href^="http://affiliates.pinnaclesports.com/processing/"], :root a[href^="http://ad.yieldmanager.com/"], :root a[href^="http://srvpub.com/"], :root a[href^="https://go.nordvpn.net/aff"] > img, :root a[href^="http://secure.vivid.com/track/"], :root a[href^="http://affiliates.lifeselector.com/"], :root #atvcap + #tvcap > .mnr-c > .commercial-unit-mobile-top, :root a[href^="http://see-work.info/"], :root a[href^="https://www.passeura.com/"], :root a[href^="http://www.pinkvisualpad.com/?revid="], :root a[href^="https://go.hpyrdr.com/"], :root a[href^="https://billing.purevpn.com/aff.php"] > img, :root a[href^="//lambingsyddir.com/"], :root a[href^="https://track.totalav.com/"], :root [href^="https://wct.link/"], :root a[href^="https://go.julrdr.com/"], :root a[href^="https://secure.adnxs.com/clktrb?"], :root div[data-mpu1], :root a[href^="http://adserver.adtechus.com/"], :root a[href^="http://www.download-provider.org/"], :root a[href^="http://play4k.co/"], :root a[data-redirect^="https://paid.outbrain.com/network/redir?"], :root a[onmousedown^="this.href='http://paid.outbrain.com/network/redir?"][target="_blank"], :root a[href^="http://www.roboform.com/php/land.php"], :root a[href="//rufflycouncil.com/"], :root a[href*=".zlink9.com/"], :root a[href^="https://trackjs.com/?utm_source"], :root AFS-AD, :root a[href^="https://ads.ad4game.com/"], :root a[href^="https://affiliates.bet-at-home.com/processing/"], :root a[href^="https://betway.com/"][href*="&a="], :root a[href^="http://www.mobileandinternetadvertising.com/"], :root [href^="https://join.playboyplus.com/track/"], :root a[data-url^="http://paid.outbrain.com/network/redir?"] + .author, :root a[href^="http://affiliates.score-affiliates.com/"], :root a[data-oburl^="https://paid.outbrain.com/network/redir?"], :root a[href^="https://ttf.trmobc.com/"], :root a[href^="http://n.admagnet.net/"], :root a[data-obtrack^="http://paid.outbrain.com/network/redir?"], :root a[href^="https://go.onclasrv.com/"], :root a[href^="http://wct.link/"], :root a[href^="https://zononi.com/"], :root a[href^="http://adserving.unibet.com/"], :root [href^="https://bulletprofitsmartlink.com/"], :root [href^="https://join3.bannedsextapes.com"], :root a[href^="//benoopto.com/"], :root [lazy-ad="leftbottom_banner"], :root [id^="div-gpt-ad"], :root a[href^="https://intrev.co/"], :root a[href^="http://https://www.get-express-vpn.com/offer/"], :root [lazy-ad="lefttop_banner"], :root a[href^="http://c.ketads.com/"], :root a[href^="https://secure.starsaffiliateclub.com/C.ashx?"], :root [href^="https://totlnkcl.com/"], :root .trc_rbox_div .syndicatedItemUB, :root [href^="https://zone.gotrackier.com/"], :root [href^="https://www.mypillow.com/"] > img, :root [href^="https://freecourseweb.com/"] > .sitefriend, :root [href^="https://www.hostg.xyz/aff_c"] > img, :root a[href^="https://topoffers.com/"][href*="/?pid="], :root a[href^="https://syndication.dynsrvtbg.com/"], :root a[href^="http://vinfdv6b4j.com/"], :root div[data-test-id="AdBannerWrapper"], :root div[class^="AdCard_"], :root a[href^="http://www.urmediazone.com/signup"], :root a[href^="http://click.plista.com/pets"], :root a[href^="https://www.awin1.com/cread.php?awinaffid="], :root a[href^="https://servedbyadbutler.com/"], :root a[href^="https://www.bet365.com/"][href*="affiliate="], :root a[href^="https://mob1ledev1ces.com/"], :root a[href^="https://promo-bc.com/"], :root a[data-redirect^="http://paid.outbrain.com/network/redir?"], :root a[href^="https://explore.findanswersnow.net/"], :root [id^="adframe_wrap_"], :root div[jsdata*="CarouselPLA-"][data-id^="CarouselPLA-"], :root a[href^="https://go.trackitalltheway.com/"], :root [data-template-type="nativead"], :root [href^="https://track.fiverr.com/visit/"] > img, :root a[href^="//eurogirls.live/track?"], :root [data-ad-manager-id], :root a[href^="http://ad-apac.doubleclick.net/"], :root a[href^="https://traffic.bannerator.com/"], :root [href^="https://shiftnetwork.infusionsoft.com/go/"] > img, :root a[href^="https://mmwebhandler.aff-online.com/"], :root [href^="https://r.kraken.com/"], :root a[href^="http://xads.zedo.com/"], :root [class^="div-gpt-ad"], :root a[href^="http://www.ragazzeinvendita.com/?rcid="], :root a[href^="http://www.adultdvdempire.com/?partner_id="][href*="&utm_"], :root .plistaList > .itemLinkPET, :root a[href^="http://www.adbrite.com/mb/commerce/purchase_form.php?"], :root a[href^="http://landingpagegenius.com/"], :root .section-subheader > .section-hotel-prices-header, :root [href^="http://join.ts-dominopresley.com/"], :root [href^="https://go.affiliatexe.com/"], :root a[href^="https://t.mobtya.com/"], :root a[href^="https://www.adxtro.com/"], :root [class*="__adv-block"], :root .trc_rbox_border_elm .syndicatedItem, :root a[href^="http://www.myfreepaysite.com/sfw_int.php?aid"], :root [href^="https://glersakr.com/"], :root a[href^="https://freeadult.games/"], :root a[href^="http://liversely.net/"], :root a[href^="http://mgid.com/"], :root a[href^="http://k2s.cc/pr/"], :root [href^="/admdownload.php"], :root a[href^="https://www.spyoff.com/"], :root div[data-native-ad], :root a[href^="https://click.hoolig.app/"], :root AD-TRIPLE-BOX, :root [href^="http://join.hardcoreshemalevideo.com/"], :root a[href^="http://ads2.williamhill.com/redirect.aspx?"], :root a[href^="//www.mgid.com/"], :root [href^="https://go.astutelinks.com/"], :root [href^="http://join.shemale.xxx/"], :root a[href^="http://www.TwinPlan.com/AF_"], :root [href^="https://click2cvs.com/"], :root a[href^="http://ads.expekt.com/affiliates/"], :root #taw > .med + div > #tvcap > .mnr-c:not(.qs-ic) > .commercial-unit-mobile-top, :root .plista_widget_belowArticleRelaunch_item[data-type="pet"], :root a[href^="https://deliver.ptgncdn.com/"], :root [href^="https://www.targetingpartner.com/"], :root a[href^="http://latestdownloads.net/download.php?"], :root iframe[src^="http://ad.yieldmanager.com/"], :root a[href^="http://pubads.g.doubleclick.net/"], :root a[href^="https://porntubemate.com/"], :root a[href^="http://www.gfrevenge.com/landing/"], :root a[href^="http://hpn.houzz.com/"], :root a[href^="http://bc.vc/?r="], :root a[href^="http://www.afgr2.com/"], :root #slashboxes > .deals-rail, :root FBS-AD, :root [href^="https://go.4rabettraff.com/"], :root a[href^="https://ak.hetaruwg.com/"], :root a[href^="http://click.payserve.com/"], :root a[href^="http://s5prou7ulr.com/"], :root a[href^="http://azmobilestore.co/"], :root a[href^="https://sexsimulator.game/tab/?SID="], :root .rc-cta[data-target], :root a[href^="http://www.menaon.com/installs/"], :root a[href^="//syndication.dynsrvtbg.com/"], :root [href^="//mage98rquewz.com/"], :root [href^="https://mylead.global/stl/"] > img, :root div[id^="crt-"][style], :root a[href^="http://igromir.info/"], :root a[href^="https://farm.plista.com/pets"], :root [class^="Ad-adContainer"], :root a[href^="https://adclick.g.doubleclick.net/"], :root [href^="http://misslinkvocation.com/"], :root [id^="ad-wrap-"], :root a[href^="https://go.tmrjmp.com"], :root [data-css-class="dfp-inarticle"], :root a[href^="https://www.rabbits.webcam/?id="], :root a[href^="https://delivery.porn.com/"], :root div[id^="ad-position-"], :root a[href^="http://liversely.com/"], :root a[data-redirect^="this.href='http://paid.outbrain.com/network/redir?"], :root [href^="https://rapidgator.net/article/premium/ref/"], :root [href^="https://join.girlsoutwest.com/"], :root a[href^="https://torguard.net/aff.php"] > img, :root [class^="AdvertisingSlot_"], :root [href^="http://trafficare.net/"], :root a[href^="https://ptapjmp.com/"], :root a[href^="http://ads.sprintrade.com/"], :root .trc_rbox_div .syndicatedItem, :root a[href^="//www.pd-news.com/"], :root a-ad, :root a[href^="http://cam4com.go2cloud.org/aff_c?"], :root [href^="http://join.trannies-fuck.com/"], :root a[href^="http://1phads.com/"], :root a[href^="http://get.slickvpn.com/"], :root [data-ad-module], :root hl-adsense, :root div[data-contentexchange-widget], :root [id^="bunyad-widget-ads-"], :root a[href^="https://secure.cbdpure.com/aff/"], :root guj-ad, :root AMP-AD, :root a[href^="https://x.trafficandoffers.com/"], :root .scroll-fixable.rail-right > .deals-rail, :root div[id^="vuukle-ad-"], :root a[href^="http://betahit.click/"], :root .plistaList > .plista_widget_underArticle_item[data-type="pet"], :root a[href^="http://goldmoney.com/?gmrefcode="], :root a[href^="http://fsoft4down.com/"], :root div[id^="ad_bigbox_"], :root #content > #right > .dose > .dosesingle, :root a[href^="http://paid.outbrain.com/network/redir?"], :root .commercial-unit-mobile-top .jackpot-main-content-container > .UpgKEd + .nZZLFc > div > .vci, :root [href^="https://affiliate.fastcomet.com/"] > img, :root .commercial-unit-mobile-top > div[data-pla="1"], :root [href^="https://traffserve.com/"], :root div[id^="amzn-assoc-ad"], :root a[href^="https://www.oboom.com/ref/"], :root a[href^="http://media.paddypower.com/redirect.aspx?"], :root a[href^="https://cpartner.bdswiss.com/"], :root #topstuff > #tads, :root a[href^="http://bcp.crwdcntrl.net/"], :root a[href^="http://stateresolver.link/"], :root a[href^="http://galleries.securewebsiteaccess.com/"], :root a[href^="https://ismlks.com/"], :root [data-freestar-ad], :root [class*="__adspot-title-container"], :root a[href^="https://a.bestcontentfood.top/"], :root #ads > .dose > .dosesingle, :root a[href^="https://track.trkinator.com/"], :root [href^="http://residenceseeingstanding.com/"] { display: none !important; }</style><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html" data-react-helmet="true"><script data-react-helmet="true">
        var gtmInitialDimensions = {"product":{"title":"Go Web Programming","type":"book","identifier":"9781617292569","topic":"Go"},"content":{"identifier":"9781617292569-/kindle_split_010.html","publisher":"Manning Publications","free":"no","subdirectory":"none","subTopic":"none","parentTopic":"none","formatType":"book-chapter","author":"Sau Sheong Chang","releaseDate":"2016-07-08","title":"Chapter 2. Go ChitChat"}};
        window.dataLayer = window.dataLayer || [];
        var dataLayer = window.dataLayer;
        dataLayer.push(gtmInitialDimensions);
      </script><meta name="search-title" content="Chapter 2. Go ChitChat" data-react-helmet="true"><meta property="og:title" content="Chapter 2. Go ChitChat" data-react-helmet="true"><meta itemprop="name" content="Chapter 2. Go ChitChat" data-react-helmet="true"><meta property="og:description" itemprop="description" content="Chapter 2. Go ChitChat


      This chapter covers




         Introducing Go web programming



         Designing a typical..." data-react-helmet="true"><meta name="twitter:description" content="Chapter 2. Go ChitChat


      This chapter covers




         Introducing Go web programming



         Designing a typical..." data-react-helmet="true"></head>
  <body>
      <noscript>
        <iframe src='https://www.googletagmanager.com/ns.html?id=GTM-5P4V6Z'
          height='0' width='0' style='display:none;visibility:hidden'></iframe>
      </noscript>
    <div id="root"><div class="orm-ff-Shell-shell__wrapper orm-ff-Shell-slim"><a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#main" class="orm-ff-Shell-skipLink">Skip to content</a><header class="orm-ff-Shell-sidebar orm-ff-Shell-collapsedSidebar"><div class="orm-ff-Navigation-collapsed__wrapper"><div class="orm-ff-Logo-LogoWrapper" data-testid="collapsed-logo"><a href="https://learning.oreilly.com/"><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="18" fill="#D3002D"></circle><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="10" y="11" width="24" height="18"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.8774 11C16.2373 10.9999 12.9556 13.1926 11.5626 16.5556C10.1696 19.9185 10.9396 23.7895 13.5136 26.3634C15.1978 28.0566 17.4892 29.0059 19.8774 29C23.5176 29.0002 26.7994 26.8075 28.1924 23.4444C29.5855 20.0813 28.8153 16.2102 26.2412 13.6364C24.5569 11.9432 22.2655 10.9939 19.8774 11ZM25.5315 20.0001C25.5303 22.6961 23.6251 25.0158 20.9809 25.541C18.3366 26.0662 15.6895 24.6506 14.6582 22.1598C13.6268 19.6689 14.4983 16.7964 16.7398 15.2986C18.9813 13.8007 21.9687 14.0946 23.8754 16.0005C24.9393 17.0591 25.5357 18.4993 25.5315 20.0001ZM28.6361 12.4394C28.9972 11.5679 29.8478 10.9998 30.7911 11C32.0782 11.0016 33.1212 12.0445 33.1227 13.3316C33.1229 14.275 32.5548 15.1255 31.6833 15.4867C30.8118 15.8478 29.8086 15.6483 29.1415 14.9812C28.4745 14.3142 28.275 13.3109 28.6361 12.4394Z" fill="white"></path></mask><g mask="url(#mask0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 8H34V32H10V8Z" fill="white"></path></g></svg></a></div><div class="orm-ff-LogoView-root orm-ff-Navigation-logoView  orm-ff-LogoView-collapsedNav orm-ff-LogoView-slim"><div class="orm-ff-LogoView-container orm-ff-LogoView-collapsedNav orm-ff-LogoView-slim"><div class="orm-ff-LogoView-logoWrapper orm-ff-LogoView-collapsedNav orm-ff-LogoView-slim" data-testid="nav-logo"><a href="https://learning.oreilly.com/" class="orm-Logo-logoWrapper orm-ff-LogoView-ormLogoWrapper orm-ff-LogoView-collapsedLogo orm-ff-LogoView-slim "><span class="orm-Logo-root orm-ff-LogoView-ormLogoRoot orm-ff-LogoView-collapsedLogo  orm-Logo-small"><svg width="114" height="22" viewBox="0 0 114 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22.7187 5.5858C24.0625 5.5858 25.1562 4.4801 25.1562 3.1215C25.1562 1.763 24.0937 0.6888 22.7187 0.6572C21.375 0.6572 20.2812 1.763 20.2812 3.1215C20.2812 4.4801 21.375 5.5858 22.7187 5.5858ZM3.2812 11.1147C3.2812 9.1559 4.0625 7.3867 5.3438 6.0913C6.625 4.796 8.3438 4.0061 10.2813 4.0061C12.2188 4.0061 13.9688 4.796 15.25 6.0913C16.5312 7.3867 17.3125 9.1559 17.3125 11.1147C17.3125 13.0735 16.5312 14.8111 15.2813 16.1381C14 17.4334 12.25 18.2233 10.3125 18.2233C8.375 18.2233 6.625 17.4334 5.3438 16.1381C4.0625 14.8427 3.2812 13.0735 3.2812 11.1147ZM10.3125 0.688801C4.625 0.688801 0 5.3647 0 11.1147C0 16.8647 4.5938 21.509 10.3125 21.5406C16 21.5406 20.625 16.8647 20.625 11.1147C20.625 5.3647 16 0.688801 10.3125 0.688801ZM30.8125 9.3091V4.3173H37.4688C38.8438 4.3173 39.9375 5.4231 39.9375 6.8132C39.9375 8.2033 38.8438 9.3091 37.4688 9.3091H30.8125ZM39.0938 12.4369C41.4688 11.7102 43.2187 9.4987 43.2187 6.8448C43.2187 3.6223 40.625 1 37.4375 1H27.5V20.9987H30.8125V12.658H35.4062L40.375 20.9987H44.2188L39.0938 12.4369ZM60.3125 1V4.3173H49.8437V9.3407H59.7812V12.658H49.8437V17.6814H60.3125V20.9987H46.5312V1H60.3125ZM67.0625 1H63.75V20.9987H67.0625V1ZM70.5 1V20.9987H83.3437V17.6814H73.8125V1H70.5ZM86.031 20.9987V1H89.313V17.6814H98.844V20.9987H86.031ZM109.531 1H113.531L106.094 11.8998V20.9987H102.812V11.8682L95.375 1H99.375L104.469 8.4245L109.531 1Z" fill="white"></path>
</svg>
</span><span class="orm-Logo-logoTitle">O'Reilly</span></a></div></div></div><div class="orm-ff-Navigation-primaryNav__wrapper"><div class="orm-ff-NavigationView-root orm-ff-NavigationView-slim"><div class="orm-ff-NavigationView-container orm-ff-NavigationView-collapsedNav"><div class="orm-ff-NavigationView-headerMenu"><div class="orm-ff-NavigationView-headerControls"><nav aria-label="Primary"><ul class="orm-ff-NavigationView-headerList" data-testid="primaryHeaderMenuItems"><li class="orm-ff-NavigationView-headerListItem"><a href="https://learning.oreilly.com/home/" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-home " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">home</span></span>Home</a></li><li class="orm-ff-NavigationView-toggleControls"><button aria-expanded="false" class="orm-Button-root orm-ToggleLinks-root  orm-Button-small"><span class="orm-Button-btnContentWrap orm-ToggleLinks-btnContentWrap "><span class="orm-ToggleLinks-iconContentWrap"><span class="orm-Icon-root orm-ToggleLinks-extraIcon orm-ToggleLinks-showHideIcon " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-person " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">person</span></span>Your O'Reilly</span><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Button-icon orm-ToggleLinks-toggleIcon   orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><ul class="orm-ToggleLinks-toggleList"><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/profile/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Profile</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/history/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">History</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/playlists/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Playlists</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/highlights/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Highlights</span></a></li></ul></li><li class="orm-ff-NavigationView-headerListItem"><a href="https://learning.oreilly.com/answers/" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-answers " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">answers</span></span>Answers</a></li><li class="orm-ff-NavigationView-toggleControls"><button aria-expanded="false" class="orm-Button-root orm-ToggleLinks-root  orm-Button-small"><span class="orm-Button-btnContentWrap orm-ToggleLinks-btnContentWrap "><span class="orm-ToggleLinks-iconContentWrap"><span class="orm-Icon-root orm-ToggleLinks-extraIcon orm-ToggleLinks-showHideIcon " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-queue " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">queue</span></span>Explore</span><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Button-icon orm-ToggleLinks-toggleIcon   orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><ul class="orm-ToggleLinks-toggleList"><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/topics/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">All Topics</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/courses/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Courses</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;formats=case%20study&amp;formats=learning%20path&amp;formats=live%20online%20training&amp;formats=notebook&amp;formats=oriole&amp;formats=video&amp;sort=popularity&amp;facet_json=true&amp;page=0&amp;collection_type=expert" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Most Popular Titles</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/recommendations/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Recommended</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;sort=publication_date&amp;facet_json=true&amp;page=0" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Early Releases</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/playlists/discover/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Shared Playlists</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/resource-centers/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Resource Centers</span></a></li></ul></li><li class="orm-ff-NavigationView-toggleControls"><button aria-expanded="false" class="orm-Button-root orm-ToggleLinks-root  orm-Button-small"><span class="orm-Button-btnContentWrap orm-ToggleLinks-btnContentWrap "><span class="orm-ToggleLinks-iconContentWrap"><span class="orm-Icon-root orm-ToggleLinks-extraIcon orm-ToggleLinks-showHideIcon " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-event " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">event</span></span>Live Events</span><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Button-icon orm-ToggleLinks-toggleIcon   orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><ul class="orm-ToggleLinks-toggleList"><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/live-events/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">All Events</span></a></li><li class="orm-ff-NavigationView-toggleControls"><button aria-expanded="false" class="orm-Button-root orm-ToggleLinks-root orm-ff-NavigationView-subNavLinkWithChildren   orm-Button-small"><span class="orm-Button-btnContentWrap orm-ToggleLinks-btnContentWrap "><span class="orm-ToggleLinks-iconContentWrap">Superstreams</span><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Button-icon orm-ToggleLinks-toggleIcon   orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><ul class="orm-ToggleLinks-toggleList"><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/ai/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">AI &amp; ML</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/cloud/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Cloud</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/strata/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Data</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/infrastructure-ops/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Infra &amp; Ops</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/oscon/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Open Source</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/security/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Security</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/software-architecture/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Software Arch</span></a></li><li class="orm-ff-NavigationView-toggleListItem orm-ff-NavigationView-tertiaryNavLinks"><a href="https://learning.oreilly.com/featured/software-development/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Software Dev</span></a></li></ul></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/featured/architectural-katas/" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Architectural Katas</span></a></li></ul></li><li class="orm-ff-NavigationView-toggleControls"><button aria-expanded="false" class="orm-Button-root orm-ToggleLinks-root  orm-Button-small"><span class="orm-Button-btnContentWrap orm-ToggleLinks-btnContentWrap "><span class="orm-ToggleLinks-iconContentWrap"><span class="orm-Icon-root orm-ToggleLinks-extraIcon orm-ToggleLinks-showHideIcon " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-code " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">code</span></span>Interactive</span><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Button-icon orm-ToggleLinks-toggleIcon   orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><ul class="orm-ToggleLinks-toggleList"><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/scenarios/?classification=content-scenario" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Scenarios</span></a></li><li class="orm-ff-NavigationView-toggleListItem"><a href="https://learning.oreilly.com/scenarios/?classification=sandbox-scenario" class="orm-Link-root"><span class="orm-ff-NavigationView-toggleListLabel">Sandboxes</span></a></li></ul></li><li class="orm-ff-NavigationView-headerListItem"><a href="https://learning.oreilly.com/certifications/" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-certifications " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">certifications</span></span>Certifications</a></li><li class="orm-ff-NavigationView-headerListItem"><a href="https://learning.oreilly.com/u/preferences/" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-settings " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">settings</span></span>Settings</a></li></ul></nav><nav class="orm-ff-NavigationView-secondary" aria-label="Secondary" data-testid="secondaryHeaderMenuItems"><ul class="orm-ff-NavigationView-headerList"><li class="orm-ff-NavigationView-headerListItem"><a href="https://www.oreilly.com/online-learning/support/" target="_blank" rel="noreferrer noopener" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-edit-group " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">edit group</span></span>Support<span class="orm-Icon-root orm-ff-NavigationView-extraLinkIcon " data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-external-link " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">external link</span></span></a></li><li class="orm-ff-NavigationView-headerListItem"><a href="https://get.oreilly.com/email-signup.html" target="_blank" rel="noreferrer noopener" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-document " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">document</span></span>Newsletters<span class="orm-Icon-root orm-ff-NavigationView-extraLinkIcon " data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-external-link " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">external link</span></span></a></li><li class="orm-ff-NavigationView-headerListItem"><a href="https://learning.oreilly.com/member/logout/" class="orm-Link-root orm-Link-hasIcon"><span class="orm-Icon-root orm-Link-icon orm-ff-NavigationView-linkIcon  " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-log-out " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">log out</span></span>Sign Out</a></li></ul></nav></div></div></div></div></div></div></header><div class="orm-ff-Shell-content__wrapper"><div class="orm-ff-Shell-search orm-ff-Shell-search__wrapper orm-ff-Shell-collapsedSearch"><div tabindex="-1"><div class="orm-ff-SearchBarView-searchBarContainer orm-ff-SearchBarView-searchBarWithNewInput"><form role="search" class="orm-ff-SearchBarView-root orm-ff-SearchBarView-slim"><div class="orm-ff-SearchBarView-searchContainer" data-testid="SearchWrapper"><div class="orm-Input-root orm-ff-SearchBarView-searchInput  orm-Input-withIcon"><label for="input-tvz1lzu80o9" class="orm-Input-inputLabel"><span class="orm-Icon-root orm-Input-iconRoot " aria-hidden="true" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-Input-icon  orm-icon-search " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">search</span></span><input aria-invalid="false" autocomplete="off" class="orm-Input-input orm-ff-SearchBarView-newInput  " id="input-tvz1lzu80o9" name="value" placeholder="Search for books, videos, live events, and more" type="search" value=""><span class="orm-Input-labelTxt">Search</span></label></div></div></form></div></div><div class="orm-ff-Shell-userProfileSection orm-ff-UserProfileWidget-userProfileWrapper"><button aria-expanded="false" aria-label="Your profile" class="orm-Button-root orm-ff-UserProfileWidget-disclosureButton "><span class="orm-Button-btnContentWrap"><span class="orm-Icon-root" data-testid="icon" style="height: 2rem;"><span class="orm-Icon-icon orm-icon-person " aria-hidden="true" style="font-size: 2rem; width: 2rem; height: 2rem;"></span><span class="orm-Icon-title">person</span></span> <span class="orm-Icon-root" data-testid="icon" style="height: 1rem;"><span class="orm-Icon-icon orm-icon-chevron-down " aria-hidden="true" style="font-size: 1rem; width: 1rem; height: 1rem;"></span><span class="orm-Icon-title">chevron down</span></span></span></button><div></div></div></div><div class="orm-ff-Shell-content white--ClFkZ ucvMode-white  orm-ff-Shell-authContent orm-ff-Shell-collapsedContent" data-scroll-top=""><main role="main" class="orm-ff-Shell-main orm-ff-Shell-authMain orm-ff-Shell-collapsedMain" id="main" tabindex="-1"><section class="contentContainer--qvux4 white--RArLD ucvMode-white"><div class="navContainer--DXAXa"><nav class="statusBar--wh9K0 white--nPqdv" data-testid="statusBar"><section class="status--c0PXR"><div class="prevContainer--NNo8v"><a class="orm-Link-root" href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_009.html"><span class="caret--DHm_6 prev--ta5Uv"></span> <span class="title--kaGlz">Chapter 1. Go and web applications</span></a></div><div data-datadog-id="ucv-nav-title" class="currentTitle--zObOd">Chapter 2. Go ChitChat</div><div class="nextContainer--DE38N"><a class="orm-Link-root" href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_011.html"><span class="title--kaGlz">Part 2. Basic web applications</span> <span class="caret--DHm_6 next--a1YAd"></span></a></div></section><div class="orm-ProgressBar-root orm-ProgressBar-labels-after"><div class="orm-ProgressBar-bar"><div class="orm-ProgressBar-progress" style="width: 10%;"></div></div><div class="orm-ProgressBar-labels labels--wMfju ">8h 14m remaining</div></div></nav></div><article class="contentSection--FabQ3"><section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content" class="calibre"><h2 id="ch02" class="part">Chapter 2. <a id="ch02__title" class="calibre3"></a>Go ChitChat
      </h2>

      <p class="noind"><a id="iddle1121" class="calibre4"></a><i class="calibre6">This chapter covers</i></p>

      <p class="calibre15"></p>
      <ul class="calibre16">

         <li class="calibre17">Introducing Go web programming

         </li>

         <li class="calibre17">Designing a typical Go web application

         </li>

         <li class="calibre17">Writing a complete Go web application

         </li>

         <li class="calibre17">Understanding the parts of a Go web application

         </li>

      </ul>

      <p class="noind">Toward the end of <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_009.html#ch01" class="calibre4">chapter 1</a>, we went through the simplest possible Go web application. That simple web application, I admit, is pretty useless and is
         nothing more than the equivalent of a Hello World application. In this chapter, we’ll explore another basic but more useful
         web application. We’ll be building a simple internet forum web application—one that allows users to log in and create conversations
         and respond to conversation topics.
      </p>

      <p class="noind">By the end of the chapter, you might not have the skills to write a full-fledged web application but you’ll be able to appreciate
         how one can be structured and developed. Throughout this chapter you’ll see the bigger picture of how web applications can
         be written in Go.
      </p>

      <p class="noind">If you find this chapter a bit too intimidating—especially with the rush of Go code—don’t be too alarmed. Work through the
         next few chapters and then revisit this one and you’ll find that things become a lot clearer!
      </p>



      <h3 id="ch02lev1sec1" class="calibre19"><a id="ch02lev1sec1__title" class="calibre3"></a>2.1. Let’s ChitChat
      </h3>

      <p class="noind"><a id="iddle1081" class="calibre4"></a><a id="iddle1096" class="calibre4"></a><a id="iddle1130" class="calibre4"></a><a id="iddle1634" class="calibre4"></a><a id="iddle2059" class="calibre4"></a>Internet forums are everywhere. They’re one of the most popular uses of the internet, related to the older bulletin board
         systems (BBS), Usenet, and electronic mailing lists. Yahoo! and Google Groups are very popular (see <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig01" class="calibre4">figure 2.1</a>), with Yahoo! reporting 10 million groups (each group is a forum on its own) and 115 million group members. One of the biggest
         internet forums around, Gaia Online, has 23 million registered users and a million posts made every day, with close to 2 billion
         posts and counting. Despite the introduction of social networks like Facebook, internet forums remain one of the most widely
         used means of communications on the internet.
      </p>



      <h5 id="ch02fig01" class="notetitle">Figure 2.1. <a id="ch02fig01__title" class="calibre4"></a>Google Groups Go programming language forum, an example of an internet forum
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig01_alt.jpg" alt="" class="calibre2" width="590" height="450"></p>


      <p class="noind">Essentially, internet forums are the equivalent of a giant bulletin board where anyone (either registered or anonymous users)
         can hold conversations by posting messages on the forum. These conversations, called <i class="calibre6">threads</i>, usually start off as a topic that a user wants to talk about, and other users add to the conversation by posting their replies
         to the original topic. More sophisticated forums are hierarchical, with forums having subforums with specific categories of
         topics that are being discussed. Most forums are moderated by one or more users, called <i class="calibre6">moderators</i>, who have special permissions.
      </p>

      <p class="noind">In this chapter, we’ll develop a simple internet forum called ChitChat. Because this is a simple example, we’ll be implementing
         only the key features of an internet forum. Users will only be able to sign up for an account and log in to create a thread
         or post a <a id="iddle1059" class="calibre4"></a><a id="iddle1122" class="calibre4"></a>reply to an existing thread. A nonregistered user will be able to read the threads but not add new threads or post to existing
         ones. Let’s start off with the application design.
      </p>

      <table width="100%" border="1" cellspacing="5" class="calibre7">
         <colgroup class="calibre25">
            <col width="550" class="calibre9">
         </colgroup>
         <tbody class="calibre10">
            <tr class="calibre11">
               <td class="calibre26"></td>
            </tr>
         </tbody>
      </table>
      <div class="calibre13">

         <b id="ch02sb01" class="calibre27">Code for this chapter</b>

         <p class="noind">Unlike with the other chapters in this book, you won’t see all the code that’s written for ChitChat here (that would be too
            much!). But you can check out the entire application on GitHub at <a href="https://github.com/sausheong/gwp" class="calibre4">https://github.com/sausheong/gwp</a>. If you’re planning to run through the exercises while you read this chapter, you’ll have an easier time if you get the code
            from the repository first.
         </p>

      </div>
      <table width="100%" border="1" cellspacing="5" class="calibre7">
         <colgroup class="calibre25">
            <col width="550" class="calibre9">
         </colgroup>
         <tbody class="calibre10">
            <tr class="calibre11">
               <td class="calibre26"></td>
            </tr>
         </tbody>
      </table>



      <h3 id="ch02lev1sec2" class="calibre19"><a id="ch02lev1sec2__title" class="calibre3"></a>2.2. Application design
      </h3>

      <p class="noind">ChitChat’s application design is typical of any web application. As mentioned in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_009.html#ch01" class="calibre4">chapter 1</a>, web applications have the general flow of the client sending a request to a server, and a server responding to that request
         (<a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig02" class="calibre4">figure 2.2</a>).
      </p>



      <h5 id="ch02fig02" class="notetitle">Figure 2.2. <a id="ch02fig02__title" class="calibre4"></a>How a web application generally works, with a client sending a request to the server and waiting to receive a response
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig02_alt.jpg" alt="" class="calibre2" width="590" height="207"></p>


      <p class="noind">ChitChat’s application logic is coded in the server. While the client triggers the requests and provides the data to the server,
         the format and the data requested are suggested by the server, provided in hyperlinks on the HTML pages that the server serves
         to the client (<a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig03" class="calibre4">figure 2.3</a>).
      </p>



      <h5 id="ch02fig03" class="notetitle">Figure 2.3. <a id="ch02fig03__title" class="calibre4"></a>The URL format of an HTTP request
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig03_alt.jpg" alt="" class="calibre2" width="590" height="290"></p>


      <p class="noind"><a id="iddle1461" class="calibre4"></a><a id="iddle1528" class="calibre4"></a><a id="iddle1646" class="calibre4"></a><a id="iddle1700" class="calibre4"></a><a id="iddle2078" class="calibre4"></a>The format for the request is normally the prerogative of the application itself. For ChitChat, we’ll be using the following
         format: <a href="http://%3Cservername%3E/%3Chandlername%3E?%3Cparameters%3E" class="calibre4">http://&lt;servername&gt;/&lt;handlername&gt;?&lt;parameters&gt;</a></p>

      <p class="noind">The <i class="calibre6">server name</i> is the name of the ChitChat server; the <i class="calibre6">handler name</i> is the name of the handler that’s being called. The handler name is hierarchical: the root of the handler name is the module
         that’s being called, the second part the submodule, and so on, until it hits the leaf, which is the handler of the request
         within that submodule. If we have a module called <kbd class="calibre20">thread</kbd> and we need to have a handler to read the thread, the handler name is <kbd class="calibre20">/thread/read</kbd>.
      </p>

      <p class="noind">The <i class="calibre6">parameters</i> of the application, which are URL queries, are whatever we need to pass to the handler to process the request. In this example,
         we need to provide the unique identifier (ID) of the thread to the handler, so the parameters will be <kbd class="calibre20">id=123</kbd>, where <kbd class="calibre20">123</kbd> is the unique ID.
      </p>

      <p class="noind">Let’s recap the request; this is how the URL being sent into the ChitChat server will look (assuming <kbd class="calibre20">chitchat</kbd> is the server name): <a href="http://chitchat/thread/read?id=123" class="calibre4">http://chitchat/thread/read?id=123</a>.
      </p>

      <p class="noind">When the request reaches the server, a <i class="calibre6">multiplexer</i> will inspect the URL being requested and redirect the request to the correct handler. Once the request reaches a handler,
         the handler will retrieve information from the request and process it accordingly (<a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig04" class="calibre4">figure 2.4</a>). When the processing is complete, the handler passes the data to the template engine, which will use templates to generate
         HTML to be returned to the client.
      </p>



      <h5 id="ch02fig04" class="notetitle">Figure 2.4. <a id="ch02fig04__title" class="calibre4"></a>How the server works in a typical web application
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig04_alt.jpg" alt="" class="calibre2" width="590" height="384"></p>





      <h3 id="ch02lev1sec3" class="calibre19"><a id="ch02lev1sec3__title" class="calibre3"></a>2.3. Data model
      </h3>

      <p class="noind"><a id="iddle1123" class="calibre4"></a><a id="iddle1213" class="calibre4"></a><a id="iddle1736" class="calibre4"></a><a id="iddle1916" class="calibre4"></a><a id="iddle2056" class="calibre4"></a><a id="iddle2095" class="calibre4"></a>Most applications need to work on data, in one form or another. In ChitChat, we store the data in a relational database (we
         use PostgreSQL in this book) and use SQL to interact with the database.
      </p>

      <p class="noind">ChitChat’s data model is simple and consists of only four data structures, which in turn map to a relational database. The
         four data structures are
      </p>

      <p class="calibre15"></p>
      <ul class="calibre16">

         <li class="calibre17"><b class="calibre27"><i class="calibre6">User</i> </b>—Representing the forum user’s information

         </li>

         <li class="calibre17"><b class="calibre27"><i class="calibre6">Session</i> </b>—Representing a user’s current login session

         </li>

         <li class="calibre17"><b class="calibre27"><i class="calibre6">Thread</i> </b>—Representing a forum thread (a conversation among forum users)

         </li>

         <li class="calibre17"><b class="calibre27"><i class="calibre6">Post</i> </b>—Representing a post (a message added by a forum user) within a thread

         </li>

      </ul>

      <p class="noind">We’ll have users who can log into the system to create and post to threads. Anonymous users can read but won’t be able to
         create threads or posts. To simplify the application, we’ll have only one type of user—there are no moderators to approve
         new threads or posts (<a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig05" class="calibre4">figure 2.5</a>).
      </p>



      <h5 id="ch02fig05" class="notetitle">Figure 2.5. <a id="ch02fig05__title" class="calibre4"></a>How a web application can access the data store
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig05_alt.jpg" alt="" class="calibre2" width="590" height="331"></p>


      <p class="noind">With our application design firmly in mind, let’s move on to code. A bit of caution before we begin: there will be code in
         this chapter that might seem puzzling. If you’re a new Go programmer, it might be worth your while to refresh your memory
         going through an introductory Go programming book like <i class="calibre6">Go in Action</i> by William Kennedy with Brian Ketelsen and Erik St. Martin (Manning, 2015).
      </p>

      <p class="noind">Otherwise, please hang on; this chapter provides an overall picture of how a Go web application will look but is thin on details.
         The details will come in the later chapters. Where possible, I’ll mention which chapters explore those details as we move
         along.
      </p>




      <h3 id="ch02lev1sec4" class="calibre19"><a id="ch02lev1sec4__title" class="calibre3"></a>2.4. Receiving and processing requests
      </h3>

      <p class="noind"><a id="iddle1131" class="calibre4"></a><a id="iddle1134" class="calibre4"></a><a id="iddle1602" class="calibre4"></a><a id="iddle1615" class="calibre4"></a><a id="iddle1666" class="calibre4"></a><a id="iddle1674" class="calibre4"></a><a id="iddle1843" class="calibre4"></a><a id="iddle1846" class="calibre4"></a>Receiving and processing requests is the heart of any web application. Let’s recap what you’ve learned so far:
      </p>

      <p class="calibre15"><a id="ch02pro01" class="calibre4"></a></p>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">1</b>.&nbsp;&nbsp;A client sends a request to a URL at the server.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">2</b>.&nbsp;&nbsp;The server has a multiplexer, which redirects the request to the correct handler to process the request.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">3</b>.&nbsp;&nbsp;The handler processes the request and performs the necessary work.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">4</b>.&nbsp;&nbsp;The handler calls the template engine to generate the correct HTML to send back to the client.
         </p>
      </blockquote>


      <p class="noind">Let’s begin at the beginning, which is the root URL (<kbd class="calibre20">/</kbd>). When you type http://localhost, this is where the application will take you. In the next few subsections, we’ll discuss
         how to handle a request to this URL and respond with dynamically generated HTML.
      </p>


      <h4 id="ch02lev2sec1" class="calibre24">2.4.1. <a id="ch02lev2sec1__title" class="calibre4"></a>The multiplexer
      </h4>

      <p class="noind">We start all Go applications with a main source code file, which is the file that contains the <kbd class="calibre20">main</kbd> function and is the starting point where the compiled binary executes. In ChitChat we call this file main.go.
      </p>



      <h5 id="ch02ex01" class="notetitle">Listing 2.1. <a id="ch02ex01__title" class="calibre4"></a>A simple <kbd class="calibre20">main</kbd> function in main.go
      </h5>
      <pre id="PLd0e3343" class="calibre5">package main

import (
  "net/http"
)

func main() {


  mux := http.NewServeMux()
  files := http.FileServer(http.Dir("/public"))
  mux.Handle("/static/", http.StripPrefix("/static/", files))

    mux.HandleFunc("/", index)


  server := &amp;http.Server{
    Addr:     "0.0.0.0:8080",
    Handler:  mux,
  }
  server.ListenAndServe()
}</pre>

      <p class="noind">In main.go, you first create a <i class="calibre6">multiplexer</i>, the piece of code that redirects a request to a handler. The net/http standard library provides a default multiplexer that
         can be created by calling the <kbd class="calibre20">NewServeMux</kbd> function:
      </p>

      <pre id="PLd0e3358" class="calibre5">mux := http.NewServeMux()</pre>

      <p class="noind"><a id="iddle1133" class="calibre4"></a><a id="iddle1135" class="calibre4"></a><a id="iddle1353" class="calibre4"></a><a id="iddle1446" class="calibre4"></a><a id="iddle1448" class="calibre4"></a><a id="iddle1459" class="calibre4"></a><a id="iddle1537" class="calibre4"></a><a id="iddle1845" class="calibre4"></a><a id="iddle1847" class="calibre4"></a><a id="iddle1968" class="calibre4"></a><a id="iddle1992" class="calibre4"></a>To redirect the root URL to a handler function, you use the <kbd class="calibre20">HandleFunc</kbd> function:
      </p>

      <pre id="PLd0e3453" class="calibre5">mux.HandleFunc("/", index)</pre>

      <p class="noind"><kbd class="calibre20">HandleFunc</kbd> takes the URL as the first parameter, and the name of the handler function as the second parameter, so when a request comes
         for the root URL (<kbd class="calibre20">/</kbd>), it’s redirected to a handler function named <kbd class="calibre20">index</kbd>. You don’t need to provide the parameters to the handler function because all handler functions take <kbd class="calibre20">ResponseWriter</kbd> as the first parameter and a pointer to <kbd class="calibre20">Request</kbd> as the second parameter.
      </p>

      <p class="noind">Notice that I’ve done some sleight-of-hand when talking about handlers. I started off talking about handlers and then switched
         to talking about handler functions. This is intentional; handlers and handler functions are <i class="calibre6">not</i> the same, though they provide the same results in the end. We’ll talk more about them in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_012.html#ch03" class="calibre4">chapter 3</a>, but for now let’s move on.
      </p>



      <h4 id="ch02lev2sec2" class="calibre24">2.4.2. <a id="ch02lev2sec2__title" class="calibre4"></a>Serving static files
      </h4>

      <p class="noind">Besides redirecting to the appropriate handler, you can use the multiplexer to serve static files. To do this, you use the
         <kbd class="calibre20">FileServer</kbd> function to create a handler that will serve files from a given directory. Then you pass the handler to the <kbd class="calibre20">Handle</kbd> function of the multiplexer. You use the <kbd class="calibre20">StripPrefix</kbd> function to remove the given prefix from the request URL’s path.
      </p>

      <pre id="PLd0e3503" class="calibre5">files := http.FileServer(http.Dir("/public"))
mux.Handle("/static/", http.StripPrefix("/static/", files))</pre>

      <p class="noind">In this code, you’re telling the server that for all request URLs starting with /static/, strip off the string <kbd class="calibre20">/static/</kbd> from the URL, and then look for a file with the name starting at the public directory. For example, if there’s a request
         for the file http://localhost/static/css/bootstrap.min.css the server will look for the file
      </p>

      <pre id="PLd0e3515" class="calibre5">&lt;application root&gt;/css/bootstrap.min.css</pre>

      <p class="noind">When it’s found, the server will serve it as it is, without processing it first.</p>



      <h4 id="ch02lev2sec3" class="calibre24">2.4.3. <a id="ch02lev2sec3__title" class="calibre4"></a>Creating the handler function
      </h4>

      <p class="noind">In a previous section you used <kbd class="calibre20">HandleFunc</kbd> to redirect the request to a handler function. Handler functions are nothing more than Go functions that take a <kbd class="calibre20">ResponseWriter</kbd> as the first parameter and a pointer to a <kbd class="calibre20">Request</kbd> as the second, shown next.
      </p>



      <h5 id="ch02ex02" class="notetitle">Listing 2.2. <a id="ch02ex02__title" class="calibre4"></a>The <kbd class="calibre20">index</kbd> handler function in main.go
      </h5>
      <pre id="PLd0e3550" class="calibre5">func index(w http.ResponseWriter, r *http.Request) {
  files := []string{"templates/layout.html",
                    "templates/navbar.html",
                    "templates/index.html",}
  templates := template.Must(template.ParseFiles(files...))
  threads, err := data.Threads(); if err == nil {

    templates.ExecuteTemplate(w, "layout", threads)
  }
}</pre>

      <p class="noind"><a id="iddle1616" class="calibre4"></a><a id="iddle2010" class="calibre4"></a>Notice that you’re using the <kbd class="calibre20">Template</kbd> struct from the html/template standard library so you need to add that in the list of imported libraries. The <kbd class="calibre20">index</kbd> handler function doesn’t do anything except generate the HTML and write it to the <kbd class="calibre20">ResponseWriter</kbd>. We’ll cover generating HTML in the upcoming section.
      </p>

      <p class="noind">We’ve talked about handler functions that handle requests for the root URL (<kbd class="calibre20">/</kbd>), but there are a number of other handler functions. Let’s look at the rest of them in the following listing, also in the
         main.go file.
      </p>



      <h5 id="ch02ex03" class="notetitle">Listing 2.3. <a id="ch02ex03__title" class="calibre4"></a>ChitChat main.go source file
      </h5>
      <pre id="PLd0e3590" class="calibre5">package main

import (
  "net/http"
)

func main() {

  mux := http.NewServeMux()
  files := http.FileServer(http.Dir(config.Static))
  mux.Handle("/static/", http.StripPrefix("/static/", files))

  mux.HandleFunc("/", index)
  mux.HandleFunc("/err", err)

  mux.HandleFunc("/login", login)
  mux.HandleFunc("/logout", logout)
  mux.HandleFunc("/signup", signup)
  mux.HandleFunc("/signup_account", signupAccount)
  mux.HandleFunc("/authenticate", authenticate)

  mux.HandleFunc("/thread/new", newThread)
  mux.HandleFunc("/thread/create", createThread)
  mux.HandleFunc("/thread/post", postThread)
  mux.HandleFunc("/thread/read", readThread)

  server := &amp;http.Server{
    Addr:           "0.0.0.0:8080",
    Handler:        mux,
  }
  server.ListenAndServe()
}</pre>

      <p class="noind">You might notice that the various handler functions aren’t defined in the same main.go file. Instead, I split the definition
         of the handler functions in other files (please refer to the code in the GitHub repository). So how do you link these files?
         Do you write code to include the other files like in PHP, Ruby, or Python? Or do you run a special command to link them during
         compile time?
      </p>

      <p class="noind"><a id="iddle1034" class="calibre4"></a><a id="iddle1072" class="calibre4"></a><a id="iddle1132" class="calibre4"></a><a id="iddle1189" class="calibre4"></a><a id="iddle1215" class="calibre4"></a><a id="iddle1220" class="calibre4"></a><a id="iddle1611" class="calibre4"></a><a id="iddle1844" class="calibre4"></a><a id="iddle1873" class="calibre4"></a><a id="iddle2099" class="calibre4"></a>In Go, you simply make every file in the same directory part of the <kbd class="calibre20">main</kbd> package and they’ll be included. Alternatively, you can place them in a separate package and import them. We’ll use this
         strategy when connecting with the database, as you’ll see later.
      </p>



      <h4 id="ch02lev2sec4" class="calibre24">2.4.4. <a id="ch02lev2sec4__title" class="calibre4"></a>Access control using cookies
      </h4>

      <p class="noind">As in many web applications, ChitChat has public pages that are available to anyone browsing to those pages, as well as private
         pages that require users to log into their account first.
      </p>

      <p class="noind">Once the user logs in, you need to indicate in subsequent requests that the user has already logged in. To do this, you write
         a cookie to the response header, which goes back to the client and is saved at the browser. Let’s look at the <kbd class="calibre20">authenticate</kbd> handler function, which authenticates the user and returns a cookie to the client. The <kbd class="calibre20">authenticate</kbd> handler function is in the route_auth.go file, shown next.
      </p>



      <h5 id="ch02ex04" class="notetitle">Listing 2.4. <a id="ch02ex04__title" class="calibre4"></a>The <kbd class="calibre20">authenticate</kbd> handler function in route_auth.go
      </h5>
      <pre id="PLd0e3695" class="calibre5">func authenticate(w http.ResponseWriter, r *http.Request) {
  r.ParseForm()
  user, _ := data.UserByEmail(r.PostFormValue("email"))
  if user.Password == data.Encrypt(r.PostFormValue("password")) {
    session := user.CreateSession()
    cookie := http.Cookie{
      Name:      "_cookie",
      Value:     session.Uuid,
      HttpOnly:  true,
    }
    http.SetCookie(w, &amp;cookie)
    http.Redirect(w, r, "/", 302)
  } else {
    http.Redirect(w, r, "/login", 302)
  }
}</pre>

      <p class="noind">Note that in the source code in the previous listing that we haven’t yet discussed <kbd class="calibre20">data.Encrypt</kbd> and <kbd class="calibre20">data.UserbyEmail</kbd>. In order to keep with the flow, I won’t explain these functions in detail; their names make them self-explanatory. For example,
         <kbd class="calibre20">data.UserByEmail</kbd> retrieves a <kbd class="calibre20">User</kbd> struct given the email; <kbd class="calibre20">data.Encrypt</kbd> encrypts a given string. We’ll get into the <kbd class="calibre20">data</kbd> package later in this chapter. For now let’s return to the authentication handler flow.
      </p>

      <p class="noind">First, you need to authenticate the user. You must make sure the user exists and the user’s encrypted password in the database
         is the same as the encrypted password posted to the handler. Once the user is authenticated, you create a <kbd class="calibre20">Session</kbd> struct using <kbd class="calibre20">user.CreateSession</kbd>, a method on the <kbd class="calibre20">User</kbd> struct. <kbd class="calibre20">Session</kbd> looks like this:
      </p>

      <pre id="PLd0e3737" class="calibre5">type Session struct {
  Id        int
  Uuid      string
  Email     string

  UserId    int
  CreatedAt time.Time
}</pre>

      <p class="noind"><a id="iddle1311" class="calibre4"></a><a id="iddle1917" class="calibre4"></a><a id="iddle2101" class="calibre4"></a><a id="iddle2102" class="calibre4"></a><a id="iddle2103" class="calibre4"></a>The <kbd class="calibre20">Email</kbd> named field stores the email of the user who is logged in; the <kbd class="calibre20">UserId</kbd> named field contains the ID of the user table row with the user information. The most important information is the <kbd class="calibre20">Uuid</kbd>, which is a randomly generated unique ID. <kbd class="calibre20">Uuid</kbd> is the value you want to store at the browser. The session record itself is stored in the database.
      </p>

      <p class="noind">Once you have the session record created, you create the <kbd class="calibre20">Cookie</kbd> struct:
      </p>

      <pre id="PLd0e3791" class="calibre5">cookie := http.Cookie{
  Name:      "_cookie",
  Value:     session.Uuid,
  HttpOnly:  true,
}</pre>

      <p class="noind">The name is arbitrary and the value is the unique data that’s stored at the browser. You don’t set the expiry date so that
         the cookie becomes a session cookie and it’s automatically removed when the browser shuts down. You set <kbd class="calibre20">HttpOnly</kbd> to only allow HTTP or HTTPS to access the cookie (and not other non-HTTP APIs like JavaScript).
      </p>

      <p class="noind">To add the cookie to the response header, use this code:</p>

      <pre id="PLd0e3806" class="calibre5">http.SetCookie(writer, &amp;cookie)</pre>

      <p class="noind">Now that we have the cookie in the browser, you want to be able to check in the handler function whether or not the user is
         logged in. You create a utility function called <kbd class="calibre20">session</kbd> that you’ll be able to reuse in other handler functions. The <kbd class="calibre20">session</kbd> function, shown in the next listing, and all other utility functions are written to the util.go file. Note that even though
         you placed the function in a separate file, it’s still part of the <kbd class="calibre20">main</kbd> package, so you can use it directly without mentioning the package name, unlike in <kbd class="calibre20">data.Encrypt</kbd>.
      </p>



      <h5 id="ch02ex05" class="notetitle">Listing 2.5. <a id="ch02ex05__title" class="calibre4"></a><kbd class="calibre20">session</kbd> utility function in util.go
      </h5>
      <pre id="PLd0e3832" class="calibre5">func session(w http.ResponseWriter, r *http.Request)(sess data.Session, err
   error){
  cookie, err := r.Cookie("_cookie")
  if err == nil {
    sess = data.Session{Uuid: cookie.Value}
    if ok, _ := sess.Check(); !ok {
      err = errors.New("Invalid session")
    }
  }
  return
}</pre>

      <p class="noind">The <kbd class="calibre20">session</kbd> function retrieves the cookie from the request:
      </p>

      <pre id="PLd0e3844" class="calibre5">cookie, err := r.Cookie("_cookie")</pre>

      <p class="noind"><a id="iddle1089" class="calibre4"></a><a id="iddle1124" class="calibre4"></a><a id="iddle1219" class="calibre4"></a><a id="iddle1490" class="calibre4"></a><a id="iddle1538" class="calibre4"></a><a id="iddle1776" class="calibre4"></a>If the cookie doesn’t exist, then obviously the user hasn’t logged in yet. If it exists, the <kbd class="calibre20">session</kbd> function performs a second check and checks the database to see if the session’s unique ID exists. It does this by using
         the <kbd class="calibre20">data.Session</kbd> function (that you’ll create in a bit) to retrieve the session and then calling the <kbd class="calibre20">Check</kbd> method on that session:
      </p>

      <pre id="PLd0e3899" class="calibre5">sess = data.Session{Uuid: cookie.Value}
if ok, _ := sess.Check(); !ok {
  err = errors.New("Invalid session")
}</pre>

      <p class="noind">Now that you’re able to check and differentiate between a user who has logged in and a user who hasn’t, let’s revisit our
         <kbd class="calibre20">index</kbd> handler function, shown in the following listing, and see how you can use this <kbd class="calibre20">session</kbd> function (code shown in bold).
      </p>



      <h5 id="ch02ex06" class="notetitle">Listing 2.6. <a id="ch02ex06__title" class="calibre4"></a>The <kbd class="calibre20">index</kbd> handler function
      </h5>
      <pre id="PLd0e3920" class="calibre5">func index(w http.ResponseWriter, r *http.Request) {
  threads, err := data.Threads(); if err == nil {
    <b class="calibre27">_, err := session(w, r)</b>
    public_tmpl_files := []string{"templates/layout.html",
                                  "templates/public.navbar.html",
                                  "templates/index.html"}
    private_tmpl_files := []string{"templates/layout.html",
                                   "templates/private.navbar.html",
                                   "templates/index.html"}
    var templates *template.Template
    if err != nil {
      templates = template.Must(template.Parse-
   Files(private_tmpl_files...))
    } else {
      templates = template.Must(template.ParseFiles(public_tmpl_files...))
    }
    templates.ExecuteTemplate(w, "layout", threads)
  }
}</pre>

      <p class="noind">The <kbd class="calibre20">session</kbd> function returns a <kbd class="calibre20">Session</kbd> struct, which you can use to extract user information, but we aren’t interested in that right now, so assign it to the <i class="calibre6">blank identifier</i> (<kbd class="calibre20">_</kbd>). What we are interested in is <kbd class="calibre20">err</kbd>, which you can use to determine whether the user is logged in and specify that the <kbd class="calibre20">public</kbd> navigation bar or the <kbd class="calibre20">private</kbd> navigation bar should be shown.
      </p>

      <p class="noind">That’s all there is to it. We’re done with the quick overview of processing requests; we’ll get on with generating HTML for
         the client next, and continue where we left off earlier.
      </p>




      <h3 id="ch02lev1sec5" class="calibre19"><a id="ch02lev1sec5__title" class="calibre3"></a>2.5. Generating HTML responses with templates
      </h3>

      <p class="noind">The logic in the <kbd class="calibre20">index</kbd> handler function was mainly about generating HTML for the client. Let’s start by defining a list of template files that you’ll
         be using in a Go slice (I’ll show private_tmpl_files here; public_tmpl_files is exactly the same).
      </p>


      <pre id="PLd0e3972" class="calibre5">private_tmpl_files := []string{"templates/layout.html",
                               "templates/private.navbar.html",
                               "templates/index.html"}</pre>

      <p class="noind"><a id="iddle1005" class="calibre4"></a><a id="iddle1036" class="calibre4"></a><a id="iddle1297" class="calibre4"></a><a id="iddle1577" class="calibre4"></a><a id="iddle1580" class="calibre4"></a><a id="iddle1647" class="calibre4"></a><a id="iddle1703" class="calibre4"></a>The three files are HTML files with certain embedded commands, called <i class="calibre6">actions</i>, very similar to other template engines like Mustache or CTemplate. Actions are annotations added to the HTML between <kbd class="calibre20">{{</kbd> and <kbd class="calibre20">}}</kbd>.
      </p>

      <p class="noind">You parse these template files and create a set of templates using the <kbd class="calibre20">ParseFiles</kbd> function. After parsing, you wrap the <kbd class="calibre20">Must</kbd> function around the results. This is to catch errors (the <kbd class="calibre20">Must</kbd> function panics when a <kbd class="calibre20">ParseFiles</kbd> returns an error).
      </p>

      <pre id="PLd0e4040" class="calibre5">templates := template.Must(template.ParseFiles(private_tmpl_files...))</pre>

      <p class="noind">We’ve talked a lot about these template files; let’s look at them now.</p>

      <p class="noind">Each template file defines a template (templates are described in detail in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_014.html#ch05" class="calibre4">chapter 5</a>). This is not mandatory—you don’t need to define templates for every file—but doing so is useful, as you’ll see later. In
         the layout.html template file, you begin with the <kbd class="calibre20">define</kbd> action, which indicates that the chunk of text starting with <kbd class="calibre20">{{ define "layout" }}</kbd> and ending with <kbd class="calibre20">{{ end }}</kbd> is part of the layout template, as shown next.
      </p>



      <h5 id="ch02ex07" class="notetitle">Listing 2.7. <a id="ch02ex07__title" class="calibre4"></a>layout.html template file
      </h5>
      <pre id="PLd0e4067" class="calibre5">{{ define "layout" }}

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=9"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;title&gt;ChitChat&lt;/title&gt;
    &lt;link href="/static/css/bootstrap.min.css" rel="stylesheet"&gt;
    &lt;link href="/static/css/font-awesome.min.css" rel="stylesheet"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    {{ template "navbar" . }}

    &lt;div class="container"&gt;

      {{ template "content" . }}

    &lt;/div&gt; &lt;!-- /container --&gt;

    &lt;script src="/static/js/jquery-2.1.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="/static/js/bootstrap.min.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;

{{ end }}</pre>

      <p class="noind">Within the layout template, we have two other actions, both of which indicate positions where another template can be included.
         The dot (.) that follows the name of <a id="iddle1540" class="calibre4"></a><a id="iddle1654" class="calibre4"></a><a id="iddle1655" class="calibre4"></a>the template to be included is the data passed into the template. For example, <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02ex07" class="calibre4">listing 2.7</a> has <kbd class="calibre20">{{ template "navbar" . }}</kbd>, which indicates that the template named <i class="calibre6">navbar</i> should be included at that position, and the data passed into the layout template should be passed on to the navbar template
         too.
      </p>

      <p class="noind">The navbar template in the public.navbar.html template file is shown next. The navbar template doesn’t have any actions other
         than defining the template itself (actions aren’t strictly necessary in template files).
      </p>



      <h5 id="ch02ex08" class="notetitle">Listing 2.8. <a id="ch02ex08__title" class="calibre4"></a>navbar.html template file
      </h5>
      <pre id="PLd0e4108" class="calibre5">{{ define "navbar" }}

&lt;div class="navbar navbar-default navbar-static-top" role="navigation"&gt;
  &lt;div class="container"&gt;
    &lt;div class="navbar-header"&gt;
      &lt;button type="button" class="navbar-toggle collapsed"
      <img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/enter.jpg" alt="" class="calibre2" width="21" height="13"> data-toggle="collapse" data-target=".navbar-collapse"&gt;
        &lt;span class="sr-only"&gt;Toggle navigation&lt;/span&gt;
        &lt;span class="icon-bar"&gt;&lt;/span&gt;
        &lt;span class="icon-bar"&gt;&lt;/span&gt;
        &lt;span class="icon-bar"&gt;&lt;/span&gt;
      &lt;/button&gt;
      &lt;a class="navbar-brand" href="/"&gt;
        &lt;i class="fa fa-comments-o"&gt;&lt;/i&gt;
        ChitChat
      &lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="navbar-collapse collapse"&gt;
      &lt;ul class="nav navbar-nav"&gt;
        &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;ul class="nav navbar-nav navbar-right"&gt;
        &lt;li&gt;&lt;a href="/login"&gt;Login&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

{{ end }}</pre>

      <p class="noind">Let’s look at the content template in last template file, index.html, in the following listing. Notice that the name of the
         template doesn’t necessary need to match the name of the template file, even though that has been the case for the past two
         files.
      </p>



      <h5 id="ch02ex09" class="notetitle">Listing 2.9. <a id="ch02ex09__title" class="calibre4"></a>index.html template
      </h5>
      <pre id="PLd0e4127" class="calibre5">{{ define "content" }}

&lt;p class="lead"&gt;
  &lt;a href="/thread/new"&gt;Start a thread&lt;/a&gt; or join one below!
&lt;/p&gt;

{{ range . }}
  &lt;div class="panel panel-default"&gt;
    &lt;div class="panel-heading"&gt;
      &lt;span class="lead"&gt; &lt;i class="fa fa-comment-o"&gt;&lt;/i&gt; {{ .Topic }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="panel-body"&gt;
      Started by {{ .User.Name }} - {{ .CreatedAtDate }} - {{ .NumReplies }}
  posts.
      &lt;div class="pull-right"&gt;
        &lt;a href="/thread/read?id={{.Uuid }}"&gt;Read more&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
{{ end }}

{{ end }}</pre>

      <p class="noind"><a id="iddle1328" class="calibre4"></a><a id="iddle1578" class="calibre4"></a>The code in index.html is interesting. You’ll notice a number of actions within the content template that start with a dot
         (<kbd class="calibre20">.</kbd>), such as <kbd class="calibre20">{{ .User.Name }}</kbd> and <kbd class="calibre20">{{ .CreatedAtDate }}</kbd>. To understand where this comes from, we need to go back to the <kbd class="calibre20">index</kbd> handler function.
      </p>

      <pre id="PLd0e4161" class="calibre5">threads, err := data.Threads(); if err == nil {
  templates.ExecuteTemplate(writer, "layout", threads)
}</pre>

      <p class="noind">Let’s start off with this:</p>

      <pre id="PLd0e4170" class="calibre5">templates.ExecuteTemplate(writer, "layout", threads)</pre>

      <p class="noind">We take the set of templates we parsed earlier, and execute the layout template using <kbd class="calibre20">ExecuteTemplate</kbd>. Executing the template means we take the content from the template files, combine it with data from another source, and
         generate the final HTML content, shown in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig06" class="calibre4">figure 2.6</a>.
      </p>



      <h5 id="ch02fig06" class="notetitle">Figure 2.6. <a id="ch02fig06__title" class="calibre4"></a>The template engine combines the data and template to produce HTML.
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig06_alt.jpg" alt="" class="calibre2" width="590" height="252"></p>


      <p class="noind">Why the layout template and not the other two templates? This should be obvious: the layout template includes the other two
         templates, so if we execute the layout template, the other two templates will also be executed and the intended HTML will
         be <a id="iddle1006" class="calibre4"></a><a id="iddle1298" class="calibre4"></a><a id="iddle1384" class="calibre4"></a>generated. If we executed either one of the other two templates, we would only get part of the HTML we want.
      </p>

      <p class="noind">As you might realize by now, the dot (.) represents the data that’s passed into the template (and a bit more, which is explained
         in the next section). <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig07" class="calibre4">Figure 2.7</a> shows what we end up with.
      </p>



      <h5 id="ch02fig07" class="notetitle">Figure 2.7. <a id="ch02fig07__title" class="calibre4"></a>The index page of the example ChitChat web application
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig07_alt.jpg" alt="" class="calibre2" width="558" height="367"></p>



      <h4 id="ch02lev2sec5" class="calibre24">2.5.1. <a id="ch02lev2sec5__title" class="calibre4"></a>Tidying up
      </h4>

      <p class="noind">HTML generation will be used over and over again, so let’s do some tidying up and move those steps into a function called
         <kbd class="calibre20">generateHTML</kbd>, shown next.
      </p>



      <h5 id="ch02ex10" class="notetitle">Listing 2.10. <a id="ch02ex10__title" class="calibre4"></a>The <kbd class="calibre20">generateHTML</kbd> function
      </h5>
      <pre id="PLd0e4250" class="calibre5">func generateHTML(w http.ResponseWriter, data interface{}, fn ...string) {
  var files []string
  for _, file := range fn {
    files = append(files, fmt.Sprintf("templates/%s.html", file))
  }
  templates := template.Must(template.ParseFiles(files...))
  templates.ExecuteTemplate(writer, "layout", data)
}</pre>

      <p class="noind"><kbd class="calibre20">generateHTML</kbd> takes a <kbd class="calibre20">ResponseWriter</kbd>, some data, and a list of template files to be parsed. The <kbd class="calibre20">data</kbd> parameter is the empty interface type, which means it can take in any type. This might come as a surprise if you’re a new
         Go programmer; isn’t Go a statically typed programming language? What’s this about accepting any types in as a parameter?
      </p>

      <p class="noind">As it turns out, Go has an interesting way of getting around being a statically typed programming language and it provides
         the flexibility of accepting different types, using interfaces. Interfaces in Go are constructs that are sets of methods and
         are also <a id="iddle1125" class="calibre4"></a><a id="iddle1126" class="calibre4"></a><a id="iddle1376" class="calibre4"></a><a id="iddle1539" class="calibre4"></a><a id="iddle1548" class="calibre4"></a><a id="iddle1549" class="calibre4"></a><a id="iddle1584" class="calibre4"></a><a id="iddle1748" class="calibre4"></a><a id="iddle1749" class="calibre4"></a><a id="iddle2108" class="calibre4"></a>types. An empty interface is then an empty set, meaning any type can be an empty interface; you can pass any type into this
         function as the data.
      </p>

      <p class="noind">The last parameter in the function starts with ... (three dots). This indicates that the <kbd class="calibre20">generateHTML</kbd> function is a <i class="calibre6">variadic</i> function, meaning it can take zero or more parameters in that last variadic parameter. This allows you to pass any number
         of template files to the function. Variadic parameters need to be the last parameter for the variadic function.
      </p>

      <p class="noind">Now that we have the <kbd class="calibre20">generateHTML</kbd> function, let’s go back and clean up the <kbd class="calibre20">index</kbd> handler function. The new <kbd class="calibre20">index</kbd> handler function, shown here, now looks a lot neater.
      </p>



      <h5 id="ch02ex11" class="notetitle">Listing 2.11. <a id="ch02ex11__title" class="calibre4"></a>The final <kbd class="calibre20">index</kbd> handler function
      </h5>
      <pre id="PLd0e4370" class="calibre5">func index(writer http.ResponseWriter, request *http.Request) {
  threads, err := data.Threads(); if err == nil {
    _, err := session(writer, request)
    if err != nil {
      generateHTML(writer, threads, "layout", "public.navbar", "index")
    } else {
      generateHTML(writer, threads, "layout", "private.navbar", "index")
    }
  }
}</pre>

      <p class="noind">We sort of glossed over the data source and what we used to combine with the templates to get the final HTML. Let’s get to
         that now.
      </p>




      <h3 id="ch02lev1sec6" class="calibre19"><a id="ch02lev1sec6__title" class="calibre3"></a>2.6. Installing PostgreSQL
      </h3>

      <p class="noind">In this chapter as well as for any remaining chapters in the book that require access to a relational database, we’ll be using
         PostgreSQL. Before we start any code, I’ll run through how to install and start up PostgreSQL, and also create the database
         that we need for this chapter.
      </p>


      <h4 id="ch02lev2sec6" class="calibre24">2.6.1. <a id="ch02lev2sec6__title" class="calibre4"></a>Linux/FreeBSD
      </h4>

      <p class="noind">Prebuilt binaries are available for many variants of Linux and FreeBSD from <a href="http://www.postgresql.org/download" class="calibre4">www.postgresql.org/download</a>. Download any one of them from the site and follow the instructions. For example, you can install Postgres on Ubuntu by executing
         this command on the console:
      </p>

      <pre id="PLd0e4401" class="calibre5"><span class="calibre21">sudo apt-get install postgresql postgresql-contrib</span></pre>

      <p class="noind">This will install both the <kbd class="calibre20">postgres</kbd> package and an additional package of utilities, and also start it up.
      </p>

      <p class="noind">By default Postgres creates a <kbd class="calibre20">postgres</kbd> user and that’s the only user who can connect to the server. For convenience you can create another Postgres account with
         your username. First, you need to log in to the Postgres account:
      </p>

      <pre id="PLd0e4420" class="calibre5"><span class="calibre21">sudo su postgres</span></pre>

      <p class="noind"><a id="iddle1127" class="calibre4"></a><a id="iddle1128" class="calibre4"></a><a id="iddle1129" class="calibre4"></a><a id="iddle1223" class="calibre4"></a><a id="iddle1550" class="calibre4"></a><a id="iddle1551" class="calibre4"></a><a id="iddle1552" class="calibre4"></a><a id="iddle1600" class="calibre4"></a><a id="iddle2057" class="calibre4"></a><a id="iddle2058" class="calibre4"></a><a id="iddle2100" class="calibre4"></a><a id="iddle2148" class="calibre4"></a>Next, use <kbd class="calibre20">createuser</kbd> to create your postgreSQL account:
      </p>

      <pre id="PLd0e4527" class="calibre5"><span class="calibre21">createuser –interactive</span></pre>

      <p class="noind">Finally, use <kbd class="calibre20">createdb</kbd> to create your database:
      </p>

      <pre id="PLd0e4540" class="calibre5"><span class="calibre21">createdb  &lt;YOUR ACCOUNT NAME&gt;</span></pre>



      <h4 id="ch02lev2sec7" class="calibre24">2.6.2. <a id="ch02lev2sec7__title" class="calibre4"></a>Mac OS X
      </h4>

      <p class="noind">One of the easiest ways to install PostgreSQL on Mac OS X is to use the Postgres application. Download the zip file and unpack
         it. Then drag and drop the Postgres.app file into your Applications folder and you’re done. You can start the application
         just like you start any Mac OS X application. The first time you start the application, Postgres will initialize a new database
         cluster and create a database for you. The command-line tool psql is part of the package, so you’ll be able to access the
         database using psql once you set the correct path. Open up Terminal and add this line your ~/.profile or ~/.bashrc file:
      </p>

      <pre id="PLd0e4556" class="calibre5">export PATH=$PATH:/Applications/Postgres.app/Contents/Versions/9.4/bin</pre>



      <h4 id="ch02lev2sec8" class="calibre24">2.6.3. <a id="ch02lev2sec8__title" class="calibre4"></a>Windows
      </h4>

      <p class="noind">Installing PostgreSQL on Windows is fairly straightforward too. There are a number of graphical installers on Windows that
         do all the heavy lifting for you; you simply need to provide the settings accordingly. A popular installer is one from Enterprise
         DB at <a href="http://www.enterprisedb.com/products-services-training/pgdownload" class="calibre4">www.enterprisedb.com/products-services-training/pgdownload</a>.
      </p>

      <p class="noind">A number of tools, including pgAdmin III, are installed along with the package, which allows you to set up the rest of the
         configuration.
      </p>




      <h3 id="ch02lev1sec7" class="calibre19"><a id="ch02lev1sec7__title" class="calibre3"></a>2.7. Interfacing with the database
      </h3>

      <p class="noind">In the design section earlier in this chapter, we talked about the four data structures used in ChitChat. Although you can
         place the data structures in the same main file, it’s neater if you store all data-related code in another package, aptly
         named <kbd class="calibre20">data</kbd>.
      </p>

      <p class="noind">To create a package, create a subdirectory called data and create a file named thread.go to store all thread-related code
         (you’ll create a user.go file to store all user-related code). Then, whenever you need to use the <kbd class="calibre20">data</kbd> package (for example, in the handlers that need to access the database), you import the package:
      </p>

      <pre id="PLd0e4597" class="calibre5">import (
  "github.com/sausheong/gwp/Chapter_2_Go_ChitChat/chitchat/data"
)</pre>

      <p class="noind">Within the thread.go file, define a <kbd class="calibre20">Thread</kbd> struct, shown in the following listing, to contain the data.
      </p>



      <h5 id="ch02ex12" class="notetitle">Listing 2.12. <a id="ch02ex12__title" class="calibre4"></a>The <kbd class="calibre20">Thread</kbd> struct
      </h5>
      <pre id="PLd0e4618" class="calibre5"><b class="calibre27">package data</b>

import(
  "time"
)

type Thread struct {
  Id        int
  Uuid      string
  Topic     string
  UserId    int
  CreatedAt time.Time
}</pre>

      <p class="noind"><a id="iddle1120" class="calibre4"></a>Notice that the package name is no longer <kbd class="calibre20">main</kbd> but <kbd class="calibre20">data</kbd> (in bold). When you use anything in this package later (functions or structs or anything else), you need to provide the package
         name along with it. If you want to use the <kbd class="calibre20">Thread</kbd> struct you must use <kbd class="calibre20">data.Thread</kbd> instead of just <kbd class="calibre20">Thread</kbd> alone. This is the <kbd class="calibre20">data</kbd> package you used earlier in the chapter. Besides containing the structs and code that interact with the database, the package
         contains other functions that are closely associated.
      </p>

      <p class="noind">The <kbd class="calibre20">Thread</kbd> struct should correspond to the DDL (Data Definition Language, the subset of SQL) that’s used to create the relational database
         table called <kbd class="calibre20">threads</kbd>. You don’t have these tables yet so let’s create them first. Of course, before you create the database tables, you should
         create the database itself. Let’s create a database called <kbd class="calibre20">chitchat</kbd>. Execute this command at the console:
      </p>

      <pre id="PLd0e4667" class="calibre5"><span class="calibre21">createdb chitchat</span></pre>

      <p class="noind">Once you have the database, you can use setup.sql to create the database tables for ChitChat, shown next.</p>



      <h5 id="ch02ex13" class="notetitle">Listing 2.13. <a id="ch02ex13__title" class="calibre4"></a>setup.sql used to create database tables in PostgreSQL
      </h5>
      <pre id="PLd0e4683" class="calibre5">create table users (
  id         serial primary key,
  uuid       varchar(64) not null unique,
  name       varchar(255),
  email      varchar(255) not null unique,
  password   varchar(255) not null,
  created_at timestamp not null
);

create table sessions (
  id         serial primary key,
  uuid       varchar(64) not null unique,
  email      varchar(255),
  user_id    integer references users(id),
  created_at timestamp not null
);

create table threads (
  id         serial primary key,
  uuid       varchar(64) not null unique,
  topic      text,
  user_id    integer references users(id),
  created_at timestamp not null
);

create table posts (
  id         serial primary key,

  uuid       varchar(64) not null unique,
  body       text,
  user_id    integer references users(id),
  thread_id  integer references threads(id),
  created_at timestamp not null
);</pre>

      <p class="noind"><a id="iddle1226" class="calibre4"></a><a id="iddle1779" class="calibre4"></a><a id="iddle2060" class="calibre4"></a>To run the script, use the psql tool that’s usually installed as part of your PostgreSQL installation (see the previous section).
         Go to the console and run this command:
      </p>

      <pre id="PLd0e4710" class="calibre5"><span class="calibre21">psql –f setup.sql –d chitchat</span></pre>

      <p class="noind">This command should create the necessary database tables in your database. Once you have your database tables, you must be
         able to connect to the database and do stuff with the tables. So you’ll create a global variable, <kbd class="calibre20">Db</kbd>, which is a pointer to<kbd class="calibre20"> sql.DB</kbd>, a representation of a pool of database connections. You’ll define <kbd class="calibre20">Db</kbd> in the data.go file, as shown in the following listing. Note that this listing also contains a function named <kbd class="calibre20">init</kbd> that initializes <kbd class="calibre20">Db</kbd> upon startup of your web application. You’ll use <kbd class="calibre20">Db</kbd> to execute your queries.
      </p>



      <h5 id="ch02ex14" class="notetitle">Listing 2.14. <a id="ch02ex14__title" class="calibre4"></a>The <kbd class="calibre20">Db</kbd> global variable and the <kbd class="calibre20">init</kbd> function in data.go
      </h5>
      <pre id="PLd0e4747" class="calibre5">Var Db *sql.DB

func init() {
  var err error
  Db, err = sql.Open("postgres", "dbname=chitchat sslmode=disable")
  if err != nil {
    log.Fatal(err)
  }
  return
}</pre>

      <p class="noind">Now that you have the struct, the tables, and a database connection pool, how do you connect the <kbd class="calibre20">Thread</kbd> struct with the <kbd class="calibre20">threads</kbd> table? There’s no particular magic to it. As with everything else in ChitChat, you simply create a function every time you
         want interaction between the struct and the database. To extract all threads in the database for the <kbd class="calibre20">index</kbd> handler function, create a <kbd class="calibre20">Threads</kbd> function in thread.go, as shown next.
      </p>



      <h5 id="ch02ex15" class="notetitle">Listing 2.15. <a id="ch02ex15__title" class="calibre4"></a>The <kbd class="calibre20">Threads</kbd> function in thread.go
      </h5>
      <pre id="PLd0e4777" class="calibre5">func Threads() (threads []Thread, err error){
  rows, err := Db.Query("SELECT id, uuid, topic, user_id, created_at FROM threads ORDER BY created_at DESC")
  if err != nil {
    return
  }
  for rows.Next() {
    th := Thread{}
    if err = rows.Scan(&amp;th.Id, &amp;th.Uuid, &amp;th.Topic, &amp;th.UserId,
    <img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/enter.jpg" alt="" class="calibre2" width="21" height="13"> &amp;th.CreatedAt); err != nil {

      return
    }
    threads = append(threads, th)
  }
  rows.Close()
  return
}</pre>

      <p class="noind"><a id="iddle1629" class="calibre4"></a><a id="iddle1796" class="calibre4"></a><a id="iddle2061" class="calibre4"></a>Without getting into the details (which will be covered in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_015.html#ch06" class="calibre4">chapter 6</a>), these are the general steps:
      </p>

      <p class="calibre15"><a id="ch02pro02" class="calibre4"></a></p>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">1</b>.&nbsp;&nbsp;Connect to the database using the database connection pool.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">2</b>.&nbsp;&nbsp;Send an SQL query to the database, which will return one or more rows.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">3</b>.&nbsp;&nbsp;Create a struct.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">4</b>.&nbsp;&nbsp;Iterate through the rows and scan them into the struct.
         </p>
      </blockquote>


      <p class="noind">In the <kbd class="calibre20">Threads</kbd> function, you return a slice of the <kbd class="calibre20">Thread</kbd> struct, so you need to create the slice and then continually append to it until you’re done with all the rows.
      </p>

      <p class="noind">Now that you can get the data from the database into the struct, how do you get the data in the struct to the templates? Let’s
         return to the index.html template file (<a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02ex09" class="calibre4">listing 2.9</a>), where you find this code:
      </p>

      <pre id="PLd0e4845" class="calibre5">{{ range . }}
  &lt;div class="panel panel-default"&gt;
    &lt;div class="panel-heading"&gt;
      &lt;span class="lead"&gt; &lt;i class="fa fa-comment-o"&gt;&lt;/i&gt; {{ .Topic }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="panel-body"&gt;
      Started by {{ .User.Name }} - {{ .CreatedAtDate }} - {{ .NumReplies }}
  posts.
      &lt;div class="pull-right"&gt;
        &lt;a href="/thread/read?id={{.Uuid }}"&gt;Read more&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
{{ end }}</pre>

      <p class="noind">As you’ll recall, a dot (.) in an action represents the data that’s passed into the template to be combined to generate the
         final output. The dot here, as part of <kbd class="calibre20">{{ range . }}</kbd>, is the <kbd class="calibre20">threads</kbd> variable extracted earlier using the <kbd class="calibre20">Threads</kbd> function, which is a slice of <kbd class="calibre20">Thread</kbd> structs.
      </p>

      <p class="noind">The <kbd class="calibre20">range</kbd> action assumes that the data passed in is either a slice or an array of structs. The <kbd class="calibre20">range</kbd> action allows you to iterate through and access the structs using their named fields. For example, <kbd class="calibre20">{{ .Topic }}</kbd> allows you to access the <kbd class="calibre20">Topic</kbd> field of the <kbd class="calibre20">Thread</kbd> struct. Note that the field must start with a dot and the name of the field is capitalized.
      </p>

      <p class="noind">What about <kbd class="calibre20">{{ .User.Name }}</kbd> and <kbd class="calibre20">{{ .CreatedAtDate }}</kbd> and <kbd class="calibre20">{{ .NumReplies }}</kbd>? The <kbd class="calibre20">Thread</kbd> struct doesn’t have these as named fields, so where do they come from? Let’s look at <kbd class="calibre20">{{ .NumReplies }}</kbd>. While using the name of a field after the dot accesses the data in the struct, you can do the same with a special type of
         function called <i class="calibre6">methods</i>.
      </p>

      <p class="noind"><a id="iddle1679" class="calibre4"></a>Methods are functions that are attached to any named types (except a pointer or an interface), including structs. By attaching
         a function to a pointer to a <kbd class="calibre20">Thread</kbd> struct, you allow the function to access the thread. The <kbd class="calibre20">Thread</kbd> struct, also called the <i class="calibre6">receiver</i>, is normally changed after calling the method.
      </p>

      <p class="noind">The <kbd class="calibre20">NumReplies</kbd> method is shown here.
      </p>



      <h5 id="ch02ex16" class="notetitle">Listing 2.16. <a id="ch02ex16__title" class="calibre4"></a><kbd class="calibre20">NumReplies</kbd> method in thread.go
      </h5>
      <pre id="PLd0e4934" class="calibre5">func (thread *Thread) NumReplies() (count int) {
  rows, err := Db.Query("SELECT count(*) FROM posts where thread_id = $1",
   thread.Id)
  if err != nil {
    return
  }
  for rows.Next() {
    if err = rows.Scan(&amp;count); err != nil {
      return
    }
  }
  rows.Close()
  return
}</pre>

      <p class="noind">The <kbd class="calibre20">NumReplies</kbd> method opens a connection to the database, gets the count of threads using an SQL query, and scans it into the <kbd class="calibre20">count</kbd> parameter passed into the method. The <kbd class="calibre20">NumReplies</kbd> method returns this count, which is then used to replace <kbd class="calibre20">.NumReplies</kbd> in the HTML, by the template engine, shown in <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig08" class="calibre4">figure 2.8</a>.
      </p>



      <h5 id="ch02fig08" class="notetitle">Figure 2.8. <a id="ch02fig08__title" class="calibre4"></a>Connecting the struct model with the database and the handler
      </h5>



      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig08.jpg" alt="" class="calibre2" width="500" height="340"></p>



      <p class="noind">By providing a combination of functions and methods on the data structs (<kbd class="calibre20">User</kbd>, <kbd class="calibre20">Session</kbd>, <kbd class="calibre20">Thread</kbd>, and <kbd class="calibre20">Post</kbd>), you create a data layer that shields you from directly accessing the database in the handler functions. Although there
         are plenty of libraries that provide this functionality, it’s good to understand that the underlying basis of accessing the
         database is quite easy, with no magic involved. Just simple, straightforward code.
      </p>




      <h3 id="ch02lev1sec8" class="calibre19"><a id="ch02lev1sec8__title" class="calibre3"></a>2.8. Starting the server
      </h3>

      <p class="noind"><a id="iddle1136" class="calibre4"></a><a id="iddle1586" class="calibre4"></a><a id="iddle1898" class="calibre4"></a><a id="iddle1911" class="calibre4"></a>Let’s round out this chapter by showing code that starts up the server and attaches the multiplexer to the server. This is
         part of the <kbd class="calibre20">main</kbd> function, so it will be in main.go.
      </p>

      <pre id="PLd0e5026" class="calibre5">server := &amp;http.Server{
  Addr:     "0.0.0.0:8080",
  Handler:  mux,
}
server.ListenAndServe()</pre>

      <p class="noind">The code is simple; you create a <kbd class="calibre20">Server</kbd> struct and call the <kbd class="calibre20">ListenAndServe</kbd> function on it and you get your server.
      </p>

      <p class="noind">Now let’s get it up and running. Compile this from the console:</p>

      <pre id="PLd0e5044" class="calibre5"><span class="calibre21">go build</span></pre>

      <p class="noind">This command will create a binary executable file named chitchat in the same directory (and also in in your $GOPATH/bin directory).
         This is our ChitChat server. Let’s start the server:
      </p>

      <pre id="PLd0e5054" class="calibre5"><span class="calibre21">./chitchat</span></pre>

      <p class="noind">This command will start the server. Assuming that you’ve created the necessary database tables, go to http://localhost:8080
         and registered for an account; then log in and start creating your own forum threads.
      </p>



      <h3 id="ch02lev1sec9" class="calibre19"><a id="ch02lev1sec9__title" class="calibre3"></a>2.9. Wrapping up
      </h3>

      <p class="noind">We went through a 20,000-foot overview of the various building blocks of a Go web application. <a href="https://learning.oreilly.com/library/view/go-web-programming/9781617292569/kindle_split_010.html#ch02fig09" class="calibre4">Figure 2.9</a> shows a final recap of the entire flow. As illustrated,
      </p>

      <p class="calibre15"><a id="ch02pro03" class="calibre4"></a></p>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">1</b>.&nbsp;&nbsp;The client sends a request to the server.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">2</b>.&nbsp;&nbsp;This is received by the multiplexer, which redirects it to the correct handler.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">3</b>.&nbsp;&nbsp;The handler processes the request.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">4</b>.&nbsp;&nbsp;When data is needed, it will use one or more data structs that model the data in the database.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">5</b>.&nbsp;&nbsp;The model connects with the database, triggered by functions or methods on the data struct.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">6</b>.&nbsp;&nbsp;When processing is complete, the handler triggers the template engine, sometimes sending in data from the model.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">7</b>.&nbsp;&nbsp;The template engine parses template files to create templates, which in turn are combined with data to produce HTML.
         </p>
      </blockquote>

      <blockquote class="calibre14">
         <p class="calibre15"><b class="calibre27">8</b>.&nbsp;&nbsp;The generated HTML is sent back to the client as part of the response.
         </p>
      </blockquote>




      <h5 id="ch02fig09" class="notetitle">Figure 2.9. <a id="ch02fig09__title" class="calibre4"></a>The web application big picture
      </h5>

      <p class="center1"><img src="./Chapter 2. Go ChitChat _ Go Web Programming_files/02fig09_alt.jpg" alt="" class="calibre2" width="590" height="270"></p>


      <p class="noind">And we’re done! In the next few chapters, we will dive in deeper into this flow and get into the details of each component.</p>



      <h3 id="ch02lev1sec10" class="calibre19"><a id="ch02lev1sec10__title" class="calibre3"></a>2.10. Summary
      </h3>

      <p class="calibre15"></p>
      <ul class="calibre16">

         <li class="calibre17">Receiving and processing requests are the heart of any web application.

         </li>

         <li class="calibre17">The multiplexer redirects HTTP requests to the correct handler for processing, including static files.

         </li>

         <li class="calibre17">Handler functions are nothing more than Go functions that take a <kbd class="calibre20">ResponseWriter</kbd> as the first parameter and a pointer to a <kbd class="calibre20">Request</kbd> as the second.

         </li>

         <li class="calibre17">Cookies can be used as a mechanism for access control.

         </li>

         <li class="calibre17">HTML responses can be generated by parsing template files together with data to provide the final HTML data that is returned
            to the calling browser.

         </li>

         <li class="calibre17">Persisting data to a relational database can be done through direct SQL using the <kbd class="calibre20">sql</kbd> package.

         </li>

      </ul>





      <div class="calibre18" id="calibre_pb_15"></div>
</div></div><link rel="stylesheet" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/stylesheet.css" crossorigin="anonymous"><link rel="stylesheet" href="./Chapter 2. Go ChitChat _ Go Web Programming_files/page_styles.css" crossorigin="anonymous"></div></div></section><section class="iconMenu--CJyGh" data-testid="sidebarWidget"><div class="icon--oixR1"><section><button aria-label="Table of Contents" class="widgetBtn--lyHAp" title="Table of Contents"><span class="orm-Icon-root" style="height:1.75rem" data-testid="icon"><span style="font-size:1.75rem;width:1.75rem;height:1.75rem" class="orm-Icon-icon icon--NBgsO  orm-icon-bullet-list " aria-hidden="true"></span><span class="orm-Icon-title">table of contents</span></span></button></section></div><div class="icon--oixR1"><section><button aria-label="Search" class="widgetBtn--nxPTL" title="Search"><span class="orm-Icon-root" style="height:1.75rem" data-testid="icon"><span style="font-size:1.75rem;width:1.75rem;height:1.75rem" class="orm-Icon-icon icon--MZ0ho  orm-icon-search " aria-hidden="true"></span><span class="orm-Icon-title">search</span></span></button></section></div><div class="icon--oixR1"><section class="widget--oCiQB"><button aria-label="Reader Settings" class="widgetBtn--pTgcX" aria-expanded="false" title="Reader Settings"><span class="orm-Icon-root" style="height:1.75rem" data-testid="icon"><span style="font-size:1.75rem;width:1.75rem;height:1.75rem" class="orm-Icon-icon icon--AuzrC  orm-icon-settings " aria-hidden="true"></span><span class="orm-Icon-title">Settings</span></span></button></section></div><div class="icon--oixR1"><div tabindex="-1"><div><div class="playlistsDropdown--FC2Kf"><div class="dropdownContainer--Ztoze" data-testid="dropdownContainer" tabindex="-1"><button class="playlistsButton--aN6HD button--igSbW" data-sfis-listen="addToPlaylist" data-product-id="chapter" data-testid="addToPlaylist"><span class="orm-Icon-root" data-testid="icon" style="height: 1.5rem;"><span class="orm-Icon-icon playlistIcon--BsDvR  orm-icon-queue " aria-hidden="true" style="font-size: 1.5rem; width: 1.5rem; height: 1.5rem;"></span><span class="orm-Icon-title">queue</span></span></button></div></div></div></div></div></section><button aria-label="Back to Top" class="orm-Button-root backIcon--w_422 "><span class="orm-Button-btnContentWrap"><span class="orm-Icon-root" aria-hidden="true" data-testid="icon" style="height: 1.5rem;"><span class="orm-Icon-icon orm-icon-back " aria-hidden="true" style="font-size: 1.5rem; width: 1.5rem; height: 1.5rem;"></span><span class="orm-Icon-title">back</span></span></span></button></article></section></main><footer role="contentinfo" class="orm-ff-Footer-root orm-ff-Shell-footer orm-ff-Shell-authFooter orm-ff-Shell-collapsedFooter "><div class="orm-ff-Footer-links"><ul><li><a href="https://www.oreilly.com/online-learning/support/">Support</a></li><li><a href="https://learning.oreilly.com/member/logout/">Sign Out</a></li></ul></div><div class="orm-ff-Footer-copyright">©<!-- -->2022<!-- --> O'Reilly Media, Inc.&nbsp;<ul><li><a href="https://www.oreilly.com/terms/">Terms of Service</a></li><li><a href="https://learning.oreilly.com/privacy">Privacy Policy</a></li></ul></div></footer></div></div></div></div>


</body></html>
